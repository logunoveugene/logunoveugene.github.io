(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{508:function(e,t,r){e.exports=r.p+"img/welcome.03b8662.png"},524:function(e,t,r){var content=r(546);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(37).default)("2dbabfe6",content,!0,{sourceMap:!1})},545:function(e,t,r){"use strict";r(524)},546:function(e,t,r){var n=r(36)(!1);n.push([e.i,'.sing-up{width:100%}.sing-up__form{max-width:340px}.sing-up__title{font-family:"Raleway",sans-serif;font-size:40px;line-height:65px;margin-bottom:24px}',""]),e.exports=n},564:function(e,t,r){"use strict";r.r(t);var n,o=r(51),l=r(12),m=(r(58),r(27)),c={layout:"default",data:function(){return{isLoading:!1,teamId:this.$route.params.team_id,teamData:{},invoceTypes:[{value:"candidate",label:"Кандитат"},{value:"user",label:"Участник команды"}],ruleForm:{email:"",password:"",selectedInvoceType:"",displayName:""},rules:{email:[{required:!0,message:"Заполните e-mail",trigger:"blur"}],password:[{required:!0,message:"введите пароль",trigger:"blur"}],displayName:[{required:!0,message:"Заполните имя",trigger:"blur"}]}}},mounted:function(){this.teamId=this.$route.params.teamId,console.log(this.$route.params.teamId)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){t.ruleForm;if(!e)return console.log("error submit!!"),!1;t.isLoading=!0,t.$nhost.auth.register({email:t.ruleForm.email,options:{defaultRole:t.ruleForm.selectedInvoceType,userData:{display_name:t.ruleForm.displayName,default_team_id:t.teamId}}}).then((function(){t.isLoading=!1,t.$message({message:"Вы успешно зарегистрировались.",type:"success"}),t.$router.push({path:"/skill-map"})}))}))},handleCredentialResponse:function(e){console.log("Encoded JWT ID token: "+e.credential)},getTeamInfo:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.$apollo.query({query:Object(m.a)(n||(n=Object(o.a)(["\n            query getTeamInfo($team_id: String!) {\n              teams(where: { id: { _eq: $team_id } }) {\n                name\n                profession {\n                  id\n                  name\n                }\n              }\n            }\n          "]))),variables:{team_id:e.$route.params.teamId}}).then((function(t){var data=t.data;e.isLoading=!1,e.teamData=data.teams[0],console.log(e.teamData)}));case 3:case"end":return t.stop()}}),t)})))()}},fetch:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getTeamInfo();case 1:case"end":return t.stop()}}),t)})))()}},d=(r(545),r(17)),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"sing-up"},[n("welcomelayoutPlate",{scopedSlots:e._u([{key:"formside",fn:function(){return[n("div",{staticClass:"sing-up__title"},[e._v('\n        Пригласить участника в команду "'+e._s(e.teamData.name)+'"\n      ')]),e._v(" "),n("div",{staticClass:"sing-up__form"},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"top",model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{prop:"email"}},[n("el-input",{attrs:{placeholder:"E-mail"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"invoseType"}},[n("el-select",{attrs:{placeholder:"Выберите тип приглашения"},model:{value:e.ruleForm.selectedInvoceType,callback:function(t){e.$set(e.ruleForm,"selectedInvoceType",t)},expression:"ruleForm.selectedInvoceType"}},e._l(e.invoceTypes,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),n("el-form-item",{attrs:{prop:"displayName"}},[n("el-input",{attrs:{placeholder:"Имя"},model:{value:e.ruleForm.displayName,callback:function(t){e.$set(e.ruleForm,"displayName",t)},expression:"ruleForm.displayName"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Регистрация")])],1)],1)],1)]},proxy:!0},{key:"imageside",fn:function(){return[n("img",{attrs:{src:r(508),alt:""}})]},proxy:!0}])})],1)}),[],!1,null,null,null);t.default=component.exports}}]);