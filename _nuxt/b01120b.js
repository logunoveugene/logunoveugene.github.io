(window.webpackJsonp=window.webpackJsonp||[]).push([[7,8,9],{493:function(e,t,n){var content=n(500);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(37).default)("75d02f9c",content,!0,{sourceMap:!1})},494:function(e,t,n){var content=n(502);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(37).default)("0631acf4",content,!0,{sourceMap:!1})},495:function(e,t,n){var content=n(505);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(37).default)("e79ab990",content,!0,{sourceMap:!1})},496:function(e,t,n){e.exports=n.p+"img/angle-up.07b1cc6.svg"},497:function(e,t,n){"use strict";n.r(t);var l=n(211),o=n.n(l),r=(n(16),n(33),n(43),n(304),n(210),{data:function(){return{}},props:{gradeLavel:{default:function(){return[{id:"1",name:""}]}}},mounted:function(){this.updateInfo(this.gradeLavel)},watch:{gradeLavel:function(e){this.updateInfo(e)}},methods:{updateInfo:function(e){var t=[];e.forEach((function(element){element.name&&t.push({name:element.name})})),console.log(t),this.$emit("updateInfo",t)},remove:function(e,data){var t=e.parent,n=t.data.children||t.data,l=n.findIndex((function(e){return e.id===data.id}));n.splice(l,1)},allowDrop:function(e,t,n){return!t.data.name||"inner"!==n},allowDrag:function(e){return""!==e.name},renderContent:function(e,t){var n=this,l=t.node,data=t.data,r=(t.store,l.parent),c=(r.data.children||r.data).findIndex((function(e){return e.id===data.id}));return e("span",{class:l.parent.data.length===c+1&&0===data.name.length?"custom-tree-node-add":"custom-tree-node"},[e("input",o()([{on:{input:[function(e){e.target.composing||n.$set(data,"name",e.target.value)},function(){return n.changeName(l,data)}]},class:"custom-tree-node__name",attrs:{placeholder:"Добавить"},domProps:{value:data.name}},{directives:[{name:"model",value:data.name,modifiers:{}}]}])),e("span",{class:"custom-tree-node__remove"},[e("i",{class:"el-icon-delete",on:{click:function(){return n.remove(l,data)}}})])])},changeName:function(e,data){var t=e.parent,n=(t.data.children||t.data).findIndex((function(e){return e.id===data.id}));if(e.parent.data.length===n+1){var l={id:Date.now(),name:""};e.parent.data.push(l)}this.updateInfo(e.parent.data)}}}),c=(n(499),n(17)),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"skill-check-list"},[n("el-tree",{attrs:{data:e.gradeLavel,"node-key":"id","default-expand-all":"",draggable:"","show-checkbox":!1,"allow-drop":e.allowDrop,"allow-drag":e.allowDrag,"render-content":e.renderContent,"expand-on-click-node":!1}})],1)}),[],!1,null,null,null);t.default=component.exports},498:function(e,t,n){"use strict";n.r(t);var l=n(211),o=n.n(l),r=(n(16),n(33),n(43),n(304),n(210),{data:function(){return{}},props:{gradeLavel:{default:function(){return[{id:"1",name:""}]}}},mounted:function(){this.updateInfo(this.gradeLavel)},watch:{gradeLavel:function(e){this.updateInfo(e)}},methods:{updateInfo:function(e){var t=[];e.forEach((function(element){element.name&&t.push({name:element.name})})),console.log(t),this.$emit("updateInfo",t)},remove:function(e,data){var t=e.parent,n=t.data.children||t.data,l=n.findIndex((function(e){return e.id===data.id}));n.splice(l,1)},allowDrop:function(e,t,n){return!t.data.name||"inner"!==n},allowDrag:function(e){return""!==e.name},renderContent:function(e,t){var n=this,l=t.node,data=t.data,r=(t.store,l.parent),c=(r.data.children||r.data).findIndex((function(e){return e.id===data.id}));return e("span",{class:l.parent.data.length===c+1?"custom-tree-node-add":"custom-tree-node"},[e("input",o()([{on:{input:[function(e){e.target.composing||n.$set(data,"name",e.target.value)},function(){return n.changeName(l,data)}]},class:"custom-tree-node__name",attrs:{contenteditable:!0,placeholder:"Добавить"},domProps:{value:data.name}},{directives:[{name:"model",value:data.name,modifiers:{}}]}])),e("span",{class:"custom-tree-node__remove"},[e("i",{class:"el-icon-delete",on:{click:function(){return n.remove(l,data)}}})])])},changeName:function(e,data){var t=e.parent,n=(t.data.children||t.data).findIndex((function(e){return e.id===data.id}));if(e.parent.data.length===n+1){var l={id:Date.now(),name:""};e.parent.data.push(l)}this.updateInfo(e.parent.data)}}}),c=(n(501),n(17)),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"skill-check-list"},[n("el-tree",{attrs:{data:e.gradeLavel,"node-key":"id","default-expand-all":"",draggable:"","show-checkbox":!1,"allow-drop":e.allowDrop,"allow-drag":e.allowDrag,"render-content":e.renderContent,"expand-on-click-node":!1}})],1)}),[],!1,null,null,null);t.default=component.exports},499:function(e,t,n){"use strict";n(493)},500:function(e,t,n){var l=n(36)(!1);l.push([e.i,".skill-check-list .el-tree-node{margin-bottom:4px}.skill-check-list .el-tree-node__content:hover{background-color:transparent!important}.skill-check-list .inline-input{width:100%}.skill-check-list .el-tree-node.is-current .custom-tree-node-add:before{display:none}.skill-check-list .custom-tree-node-add{position:relative;font-size:16px;line-height:28px;cursor:text}.skill-check-list .custom-tree-node-add:after{content:\"\";position:absolute;width:22px;height:22px;background-color:#f2f2f2;background-position:50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.666 7.333h-4v-4a.667.667 0 10-1.333 0v4h-4a.667.667 0 000 1.333h4v4a.667.667 0 101.333 0v-4h4a.667.667 0 100-1.333z' fill='%23999'/%3E%3C/svg%3E\");left:-24px;top:2px;border-radius:80px}.skill-check-list .custom-tree-node-add .el-icon-delete{display:none}.skill-check-list .custom-tree-node-add .custom-tree-node__name{padding-right:70px;z-index:10;position:relative}.skill-check-list .add-tree-item{height:40px;line-height:40px;width:100%;position:relative}.skill-check-list .add-tree-item:before{content:\"Добавить\";position:absolute;color:#999}.skill-check-list [contenteditable]:focus{outline:0 solid transparent}.skill-check-list .el-tree-node__content{height:32px;cursor:-webkit-grab;cursor:grab}.skill-check-list .el-tree-node__content:hover .el-icon-delete{opacity:.6}.skill-check-list .custom-tree-node{position:relative;font-size:16px;line-height:28px;width:100%}.skill-check-list .custom-tree-node .el-icon-delete{cursor:pointer;transition:.2s;opacity:0}.skill-check-list .custom-tree-node .el-icon-delete:hover{opacity:.8}.skill-check-list .custom-tree-node__name{cursor:text;margin-right:8px;font-size:16px;border:none;background:transparent;width:100%;padding-left:4px}.skill-check-list .custom-tree-node__name:hover{opacity:.9}.skill-check-list .custom-tree-node__remove{position:absolute;right:4px}.skill-check-list .custom-tree-node:before{content:\"\";position:absolute;width:22px;height:22px;background-color:#f2f2f2;background-position:50%;background-repeat:no-repeat;left:-24px;top:3px;border-radius:80px}",""]),e.exports=l},501:function(e,t,n){"use strict";n(494)},502:function(e,t,n){var l=n(36)(!1);l.push([e.i,".skill-check-list .el-tree-node{margin-bottom:4px}.skill-check-list .el-tree-node__content:hover{background-color:transparent!important}.skill-check-list .inline-input{width:100%}.skill-check-list .el-tree-node.is-current .custom-tree-node-add:before{display:none}.skill-check-list .custom-tree-node-add{position:relative;font-size:16px;line-height:28px;cursor:text}.skill-check-list .custom-tree-node-add:after{content:\"\";position:absolute;width:22px;height:22px;background-color:#f2f2f2;background-position:50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.666 7.333h-4v-4a.667.667 0 10-1.333 0v4h-4a.667.667 0 000 1.333h4v4a.667.667 0 101.333 0v-4h4a.667.667 0 100-1.333z' fill='%23999'/%3E%3C/svg%3E\");left:-24px;top:2px;border-radius:80px}.skill-check-list .custom-tree-node-add .el-icon-delete{display:none}.skill-check-list .custom-tree-node-add .custom-tree-node__name{padding-right:70px;z-index:10;position:relative}.skill-check-list .add-tree-item{height:40px;line-height:40px;width:100%;position:relative}.skill-check-list .add-tree-item:before{content:\"Добавить\";position:absolute;color:#999}.skill-check-list [contenteditable]:focus{outline:0 solid transparent}.skill-check-list .el-tree-node__content{height:32px;cursor:-webkit-grab;cursor:grab}.skill-check-list .el-tree-node__content:hover .el-icon-delete{opacity:.6}.skill-check-list .custom-tree-node{position:relative;font-size:16px;line-height:28px;width:100%}.skill-check-list .custom-tree-node .el-icon-delete{cursor:pointer;transition:.2s;opacity:0}.skill-check-list .custom-tree-node .el-icon-delete:hover{opacity:.8}.skill-check-list .custom-tree-node__name{cursor:text;margin-right:8px;font-size:16px;border:none;background:transparent;width:100%;padding-left:4px}.skill-check-list .custom-tree-node__name:hover{opacity:.9}.skill-check-list .custom-tree-node__remove{position:absolute;right:4px}.skill-check-list .custom-tree-node:before{content:\"\";position:absolute;width:22px;height:22px;background-color:#f2f2f2;background-position:50%;background-repeat:no-repeat;left:-24px;top:3px;border-radius:80px}",""]),e.exports=l},504:function(e,t,n){"use strict";n(495)},505:function(e,t,n){var l=n(36)(!1);l.push([e.i,".skill{background:#fff;padding:24px;box-shadow:inset 0 -1px 0 rgba(0,0,0,.05)}.skill:hover .skill__title-menu{opacity:.4}.skill__title{display:flex;justify-content:space-between}.skill__title-spoiler-control{display:flex;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.skill__title-menu{margin-left:auto;opacity:0;transition:.1s;cursor:pointer}.skill__title-menu-content{display:flex;padding:8px;flex-direction:column;align-items:flex-start}.skill__title-menu:hover{opacity:1!important}.skill__title:hover{opacity:.8}.skill__title-arrow{width:22px;height:22px;cursor:pointer;opacity:.8;margin-right:4px}.skill__title-arrow--reverse{transform:rotate(180deg)}.skill__title-header{font-weight:500;font-size:20px}.skill__info{margin-left:24px;margin-top:16px}.skill__desc{color:#666}.skill__desc,.skill__knowlage-base{margin-bottom:24px}.skill__approve-title,.skill__knowlage-base-title{font-weight:600;font-size:16px;margin-bottom:8px}.approve-list__item{padding:8px 0;line-height:22px;max-width:800px}",""]),e.exports=l},507:function(e,t,n){"use strict";n.r(t);var l,o=n(51),r=n(27),c=n(497),d={components:{SkillCheckList:n(498).default,SkillCheckListAdd:c.default},data:function(){return{isHidden:!0,menuIsShown:!1}},props:{isEditor:!1,skill:{default:function(){return[{}]}}},mounted:function(){},watch:{},methods:{deleteSkill:function(){var e=this;this.$apollo.mutate({mutation:Object(r.a)(l||(l=Object(o.a)(["\n            mutation MyMutation($skill_id: uuid!) {\n              delete_skill(where: { id: { _eq: $skill_id } }) {\n                affected_rows\n              }\n            }\n          "]))),variables:{skill_id:this.skill.id}}).then((function(){e.$message({message:"Навык удален",type:"success"}),e.$router.go(e.$router.currentRoute)}))}}},h=(n(504),n(17)),component=Object(h.a)(d,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"skill"},[l("div",{staticClass:"skill__title"},[l("div",{staticClass:"skill__title-spoiler-control",on:{click:function(t){e.isHidden=!e.isHidden}}},[l("div",{staticClass:"skill__title-arrow",class:{"skill__title-arrow--reverse":e.isHidden}},[l("img",{attrs:{src:n(496),alt:""}})]),e._v(" "),l("div",{staticClass:"skill__title-header"},[e._v(e._s(e.skill.name))])]),e._v(" "),e.isEditor?l("el-popover",{attrs:{placement:"bottom",width:"80"},model:{value:e.menuIsShown,callback:function(t){e.menuIsShown=t},expression:"menuIsShown"}},[l("div",{staticClass:"skill__title-menu-content"},[l("el-link",{attrs:{type:"info"}},[e._v("Изменить")]),e._v(" "),l("el-link",{attrs:{type:"danger"},on:{click:e.deleteSkill}},[e._v("Удалить")])],1),e._v(" "),l("div",{staticClass:"skill__title-menu",attrs:{slot:"reference"},slot:"reference"},[l("i",{staticClass:"el-icon-more",attrs:{slot:"reference"},slot:"reference"})])]):e._e()],1),e._v(" "),e.isHidden?e._e():l("div",{staticClass:"skill__info"},[l("div",{staticClass:"skill__desc"},[e._v(e._s(e.skill.description))]),e._v(" "),e._m(0),e._v(" "),l("div",{staticClass:"skill__approve"},[l("div",{staticClass:"skill__approve-title"},[e._v("\n        "+e._s(e.skill.approve_skill_method.name)+"\n      ")]),e._v(" "),l("div",{staticClass:"skill__approve-list"},[l("div",{staticClass:"approve-list"},e._l(e.skill.approve_skill_check_items,(function(t){return l("div",{key:t.id,staticClass:"approve-list__item"},[e._v("\n            "+e._s(t.name)+"\n          ")])})),0)])])])])}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"skill__knowlage-base"},[n("div",{staticClass:"skill__knowlage-base-title"},[e._v("База знаний")])])}],!1,null,null,null);t.default=component.exports}}]);