function deepClone(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(t[n]instanceof Array?(e[n]=[],Array.prototype.push.apply(e[n],t[n])):t[n]&&t[n].valueOf().constructor===Object?e[n]=deepClone(t[n]):e[n]=t[n]);return e}function getDistanceFromLatLonInKm(t,e,n,r){var i=deg2rad(n-t),a=deg2rad(r-e),s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(deg2rad(t))*Math.cos(deg2rad(n))*Math.sin(a/2)*Math.sin(a/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371}function deg2rad(t){return t*(Math.PI/180)}function getMiddlePointCoordinates(t,e,n,r,i,a){void 0===i&&(i=0),0!==a&&(a=a>0?1:-1);var s=(t+n)/2,o=(e+r)/2,c=i*Math.sqrt(.5);return{x:s+a*c,y:o-a*c}}function numberFormat(number,decimals,decPoint,thousandsSeparator){if(isNaN(decimals=+decimals)&&((decimals=0)||!0)||(decimals=Math.min(Math.max(0,decimals),20)),!(decPoint instanceof String)&&"string"!=typeof decPoint&&(decPoint="."),!(thousandsSeparator instanceof String)&&"string"!=typeof thousandsSeparator&&(thousandsSeparator=","),isNaN(parseFloat(number))||isNaN(number=+number)||!isFinite(number))return(0).toFixed(decimals).replace(".",decPoint);var isNegative=number<0;number=Math.abs(number);var intPartStr=parseInt(Math.abs(number)).toString(),floatPartStr=number.toString().substr(intPartStr.length+1);return floatPartStr.length<=decimals?floatPartStr=(floatPartStr+(0).toFixed(decimals).substr(2)).substr(0,decimals):(number=(+intPartStr+1*(("0"+floatPartStr).substr(0,decimals)+function(q){var r=q.replace(/(\d)[1-4]+$/,"$1").replace(/(\d)[5-9]+$/,"$1+1");return q=(/^\d{2,}\+/.test(r)&&"0"==r[0]?r.match(/^0+/)[0]:"")+(r?eval(r.replace(/^0+/,"")||0).toString():r),q.length>1?arguments.callee(q):q}(("0"+floatPartStr).substr(decimals))).replace(/^(\d)/,"$1.")).toString(),intPartStr=parseInt(number).toString(),floatPartStr=(number.substring(intPartStr.length+1)+(0).toFixed(decimals)).substr(0,decimals)),"0"!=intPartStr&&(intPartStr=((0).toFixed(3-(intPartStr.length%3||3)).substr(2)+intPartStr).replace(/(\d{3}(?!$))/g,"$1"+thousandsSeparator).replace(/^(-)?0+\s*/,"$1")),(isNegative?"-":"")+intPartStr+(floatPartStr?decPoint+floatPartStr:"")}function strFormatHumanNumber(t,e){var n,r=[2,0,1,1,1,2];return n=t%100>4&&t%100<20?2:r[Math.min(t%10,5)],e[n]}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(window){String.prototype.countPostfix=function(t,e,n,r){var i=0;0!=n&&(n=!0),r&&"string"==typeof r.valueOf()||(r="%c %w"),e instanceof Object||(e=e||0==e||""==e?{0:0==e||e?e.valueOf():0}:{});var a=this instanceof Object?this.valueOf():String(this);if(a in e)return String(e[a]);(a=+String(this instanceof Object?this.valueOf():String(this)).replace(/[^\d]+/g,""))||(a=0);var s=a%10,o=a%100;s>=2&&s<=4&&(i=1),(0==s||s>=5&&s<=9||o>=11&&o<=19)&&(i=2);var c=t[Math.min(i,t.length)]||"";return 0==n?r.replace(/([^%]|^)%c/gim,"$1"+a.toString()).replace(/([^%]|^)%w/gim,"$1"+c).replace(/%%/gim,"%"):c},String.countPostfix=function(t,e,n,r,i){return String.prototype.countPostfix.call(t,e,n,r,i)},String.CASE_LOWER=1,String.CASE_UPPER=2,String.CASE_TITLE=4,String.convertCharCase=function(t,e){switch(e||(e=String.CASE_LOWER),e){case String.CASE_LOWER:return t.toLowerCase();case String.CASE_UPPER:return t.toUpperCase();case String.CASE_TITLE:for(var n=t.match(/[\wа-я]+/g),r=0,i=n.length;r<i;++r)t=t.replace(n[r],n[r][0].toUpperCase()+n[r].substr(1).toLowerCase());return t}return t},String.prototype.convertCharCase=function(t){return String.convertCharCase(this.valueOf(),t)},String.pad=function(t,e,n){var r=e;!1===n&&(r=Math.ceil(e/t.length));for(var i="",a=0;a<r;++a)i+=a==r-1&&!1===n?t.substr(e%t-1):t;return i},String.prototype.pad=function(t,e,n){return String.pad(t,e,n)+this.valueOf()},String.prototype.toPad=function(t,e){return String.pad(this.valueOf(),t,e)},String.eToYoTransition=function(t){return t.replace(new RegExp("е","g"),"ё").replace(new RegExp("Е","g"),"Ё")},String.manySpacesToOne=function(t){return t.replace(/(\s){2,}/g," ")},String.YoToETransition=function(t){return t.replace(new RegExp("ё","g"),"е").replace(new RegExp("Ё","g"),"Е")},String.switchKeyboard=function(inputKeyboard,string){function transF(p){var ar1=lat,ar2=rus;"lat"==inputKeyboard&&(ar2=lat0,ar1=rus);for(var i=0;i<ar1.length;i++){var trans="/"+ar1[i]+"/gm";p=p.replace(eval(trans),ar2[i])}return p}inputKeyboard="lat"==inputKeyboard?"rus":"lat";var lat0="qwertyuiopasdfghjkl;'zxcvbnm,QWERTYUIOP{}ASDFGHJKL:\"ZXCVBNM<>`~[].".split(""),lat="qwertyuiopasdfghjkl;'zxcvbnm,QWERTYUIOP{}ASDFGHJKL:\"ZXCVBNM<>`~".split(""),rus="йцукенгшщзфывапролджэячсмитьбЙЦУКЕНГШЩЗХЪФЫВАПРОЛДЖЭЯЧСМИТЬБЮёЁхъю".split("");return lat.push("\\["),lat.push("\\]"),lat.push("\\."),transF(string)},String.escapeRegExp=function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},String.parseQueryString=function(t){var e={};0===t.indexOf("?")&&(t=t.substr(1));for(var n=t.split("&"),r=0;r<n.length;r++){var i=n[r],a=i.split("="),s=a[0],o=a[1];s=decodeURIComponent(s),o=decodeURIComponent(o),o=o.replace(/\+/g," "),e[s]=o}return e},String.formatPrice=function(t){var e=parseInt(t)+"",n=e.length>3?e.length%3:0,r="";return r+=0!==n?e.substr(0,n)+" ":"",r+=e.substr(n).replace(/(\d{3})(?=\d)/g,"$1 ")},String.getSearchStringVariants=function(t){return[String.escapeRegExp(t),String.escapeRegExp(String.eToYoTransition(t)),String.escapeRegExp(String.manySpacesToOne(t)),String.escapeRegExp(String.switchKeyboard("lat",t)),String.escapeRegExp(String.switchKeyboard("rus",t))]},String.prototype.getSelectedText=function(){return window.getSelection?window.getSelection():document.selection?document.selection.createRange().text:""}}(window),function(t){function e(e,n,r){var i="[data-"+n+"]",a=e.find(i),s="of"==n||"content"==n||"toggle"==n;e.is(i)&&a.push(e.get(0)),r[n]={};for(var o,c,u=0,l=a.length;u<l;++u)if(o=t(a.get(u)),c=o.data(n),s){var h="!"===c[0];h&&(c=c.substr(1)),o.data(A,h),r[n][c]instanceof Array||(r[n][c]=[]),r[n][c].push(o.get(0))}else{c=c.split(/;|,|\s/g);for(var g,f=0,d=c.length;f<d;++f)g=c[f].split(":"),1==g.length&&(g[1]=g[0]),r[n][g[1]]instanceof Array||(r[n][g[1]]=[]),r[n][g[1]].push({$el:o,attr:g[0]})}if(s)for(var p in r[n])r[n].hasOwnProperty(p)&&(r[n][p]=t(r[n][p]));return r}function n(t){var n={};return e(t,"of",n),e(t,"content",n),e(t,"toggle",n),e(t,"set",n),e(t,"update",n),e(t,"switch",n),n}function r(t,e,n){t.attr(e,n),/^data-/i.test(e)&&t.data(e.replace(/^data-/i,""),n)}function i(t,e){t.text(e)}function a(t,e){t.html(e)}function s(t,e,n){for(var i=0,a=t[n].length;i<a;++i)r(t[n][i].$el,t[n][i].attr,e[n])}function o(t,e,n){for(var i,a,s=0,o=t[n].length;s<o;++s)i=t[n][s],a=(i.$el.attr(i.attr)+" "+e[n]).trim(),r(i.$el,i.attr,a)}function c(t,e,n,i){for(var a,s,o=0,c=t[i].length;o<c;++o)a=t[i][o],s=a.$el.attr(a.attr),s||(s=""),s=s.replace(n[i],""),s+=" "+e[i],s=s.replace(/\s+/g," ").trim(),r(a.$el,a.attr,s)}function u(t,e){e?t.show():t.hide()}function l(e,n,r){for(var l in n)if(n.hasOwnProperty(l)){if(e.of.hasOwnProperty(l)&&e.of[l].length>0&&i(e.of[l],n[l]),e.content.hasOwnProperty(l)&&e.content[l].length>0&&a(e.content[l],n[l]),e.toggle.hasOwnProperty(l)&&e.toggle[l].length>0)for(var h=e.toggle[l],g=0,f=h.length;g<f;++g){var d=t(h.get(g)),p=d.data(A);u(d,!(!p^n[l]))}e.set.hasOwnProperty(l)&&e.set[l].length>0&&s(e.set,n,l),e.update.hasOwnProperty(l)&&e.update[l].length>0&&o(e.update,n,l),e.switch.hasOwnProperty(l)&&e.switch[l].length>0&&(r instanceof Object?c(e.switch,n,r,l):o(e.switch,n,l))}}function h(t){return t.length>0&&t.data("map")}function g(t,e,n){if(t.length>0&&!h(t)){var r=null;n instanceof Object&&e&&"string"==typeof e.valueOf()&&(r={},r[e]=n),t.initSets(r,e)}return h(t)}function f(t,e,n){if(!(t instanceof Object))throw"Параметр sets должен быть объектом";if(!(e instanceof Object))throw"Параметр map должен быть объектом";if(!e.hasOwnProperty("switch"))return!1;for(var r in t)if(t.hasOwnProperty(r)&&r!=n)for(var i in t[r])if(t[r].hasOwnProperty(i)&&e.switch.hasOwnProperty(i)){var a={};a[i]="",c(e.switch,a,t[r],i)}}function d(t,e){!1!==e&&(e=!0);var n=t.data("states"),r=n.indexOf(t.getState());r+=e?1:-1,(r<0||r>=n.length)&&(r=e?0:n.length-1),t.setState(n[r])}function p(t,e,n){e.apply(t,n)}var A="as:not";t.fn.applySingleSets=function(t){if(h(this))this.applySets("default",t);else{var e={};e.default=t,this.initSets(e,"default")}this.removeAttr("data-state")},t.fn.applySets=function(t,e){return this.updateSets(t,e).setState(t)},t.fn.updateSets=function(e,n){var r=this;if(!g(r,e,n))return this;var i=r.data("sets");return i.hasOwnProperty(e)?t.extend(i[e],n):i[e]=n,r.data("sets",i),this},t.fn.setState=function(e){if(this.length>1){var n=arguments.callee;this.each(function(){p(this,n,[e])})}else if(0===this.length)return this;var r=t(this);if(!g(r))return this;var i=r.attr("data-state"),a=r.data("sets");if(!a.hasOwnProperty(e))throw"Неверное состояние: "+e;var s=a[e],o=r.data("map");return i&&"string"==typeof i.valueOf()||f(a,o),l(o,s,a[i]),r.attr("data-state",e).data("state",e),this},t.fn.getState=function(){return this.data("state")||this.data("states")[0]},t.fn.setNextState=function(){return d(this),this},t.fn.setPrevState=function(){return d(this,!1),this},t.fn.initSets=function(e,r){if(this.length>1){var i=arguments.callee;this.each(function(){p(this,i,[e,r])})}else{if(0===this.length)return this;1===arguments.length&&arguments[0]&&"string"==typeof arguments[0].valueOf()&&(r=e,e=null);var a=t(this);!1===e&&(e=null,r=!1),e instanceof Object?a.data("sets",e):(e=a.data("sets"),a.data("sets",e),a.removeAttr("data-sets")),1===arguments.length&&(r=e),a.data("map",n(a));var s=[];for(var o in e)e.hasOwnProperty(o)&&s.push(o);a.data("states",s),r&&e.hasOwnProperty(r)?a.setState(r):!1!==r&&a.setState(a.getState())}return this}}(jQuery),Array.prototype.sortBy=function(t){for(var e,n,r=[],i=0,a=this.length;i<a;++i){for(var s=0,o=r.length;s<o;++s)if(t instanceof Function?(e=t(this[i]),n=t(r[s])):t?(e=this[i][t],n=r[s][t]):(e=this[i],n=r[s]),e<n){r.splice(s,0,this[i]);break}s==o&&r.push(this[i])}return r},Array.prototype.groupBy=function(t){for(var e,n={},r=0,i=this.length;r<i;++r)e=t instanceof Function?t(this[r]):t?this[r][t]:t,n.hasOwnProperty(e)||(n[e]=[]),n[e].push(this[r]);return n},$.arrayIntersect=function(t,e){return $.grep(t,function(t){return $.inArray(t,e)>-1})},window.Constants={UUID_NILL:"00000000-0000-0000-0000-000000000000",EVENT_LAZY_LOAD_UPDATE:"LazyLoadUpdate"},window.KeyboardCodes={ENTER:13},window.GlobalEvents={EVENT_OPINION_FORM_INIT:"opinion-form:init",EVENT_OPINION_SUBMIT_BTN_ADD_FORM_PRESS:"opinion-form:submit-add",EVENT_OPINION_SUBMIT_BTN_EDIT_FORM_PRESS:"opinion-form:submit-edit",EVENT_OPINION_CLOSE_BTN_ADD_FORM_PRESS:"opinion-form:close-add",EVENT_OPINION_CLOSE_BTN_EDIT_FORM_PRESS:"opinion-form:close-edit"},function(t){function e(){if(null!==n)return n;r=document.createElement("style"),r.appendChild(document.createTextNode("")),this._insertStyle=this._addToWaiter;var e=this;return t(function(){document.body.appendChild(r);var t=r.sheet instanceof Object,n=r.sheet.insertRule instanceof Function,a=r.sheet.addRule instanceof Function;e._insertStyle=t&&(n||a)?a?e._insertStyleAddRule:e._insertStyleInsertRule:e._insertStyleNative;for(var s=0,o=i.length;s<o;++s)e._insertStyle(i[s])}),n=this}var n=null,r=null,i=[],a=e.prototype;a._insertStyleNative=function(t){r.innerHTML+=this.getFullCssContext(t)},a._insertStyleAddRule=function(t){for(var e in t)t.hasOwnProperty(e)&&r.sheet.addRule(e,this.getCssContext(t[e]),0)},a._insertStyleInsertRule=function(t){for(var e=this.getFullCssRulesList(t),n=0,i=e.length;n<i;++n)r.sheet.insertRule(e[n],r.sheet.cssRules.length)},a._addToWaiter=function(t){i.push(t)},a._insertStyle=function(t){},a.getCssContext=function(t){var e="";for(var n in t)if(t.hasOwnProperty(n)&&void 0!==t[n]){var r=t[n];(r instanceof Number||"number"==typeof r)&&(r+="px"),null!==r&&!1!==r||(r="none"),n=n.replace(/(?!^)([A-Z])/g,"-$1").toLowerCase(),e+=n+":"+r+";"}return e},a.getFullCssRulesList=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+"{"+this.getCssContext(t[n])+"}");return e},a.getFullCssContext=function(t){return this.getFullCssRulesList(t).join(" ")},a.createStyle=function(t){this._insertStyle(t)},window.CSSHelper=e,window.cssHelper=new e}(jQuery),function(t,e){function n(t,e,n){for(var r=t,i=n,a=1e-4;a<=1;a+=1e-4){var s=(1-a)*(1-a)*t+2*(1-a)*a*e+a*a*n;s<r&&(r=s),s>i&&(i=s)}return[Math.round(r),Math.round(i)]}t.fn.curvedArrow=function(e){var r=t.extend({x0:void 0,y0:void 0,x1:void 0,y1:void 0,x2:void 0,y2:void 0,arrowSize:7,lineWidth:1,arrowColor:"#000",objectCssClass:"curved-arrow"},e);if(void 0!==r.x0&&void 0!==r.y0&&void 0!==r.x1&&void 0!==r.y1&&void 0!==r.x2&&void 0!==r.y2){var i=document.createElement("canvas");t(i).appendTo(this);var a=n(r.x0,r.x1,r.x2),s=n(r.y0,r.y1,r.y2),o=r.arrowSize-r.lineWidth,c=a[0]-o,u=a[1]+o,l=s[0]-o,h=s[1]+o,g=r.x0-c,f=r.y0-l,d=r.x1-c,p=r.y1-l,A=r.x2-c,m=r.y2-l;i.style.position="absolute",i.style.top=l+"px",i.style.left=c+"px",i.width=u-c,i.height=h-l;var S=i.getContext("2d");S.strokeStyle=r.arrowColor,S.lineWidth=r.lineWidth,S.lineJoin="round",S.lineCap="round",S.beginPath(),S.moveTo(g,f),S.quadraticCurveTo(d,p,A,m),S.stroke();var E=Math.atan2(m-p,A-d);return S.translate(A,m),S.rotate(E+1),S.beginPath(),S.moveTo(0,r.arrowSize),S.lineTo(0,0),S.stroke(),S.rotate(-2),S.lineTo(0,-r.arrowSize),S.stroke(),S.rotate(1-E),S.translate(-A,-m),t(i).addClass(r.objectCssClass)}}}(jQuery),Date.DATE_STAMP_FORMAT="%Y-%m-%d %H:%M:%S",Date.DATE_STAMP_FORMAT_MINI="%Y-%m-%d",Date.FORMAT_DATE_TIME="%d %B %Y г. %H:%M",Date.FORMAT_DATE="%d %B %Y г.",Date.FORMAT_DAY_MONTH="%d %B",Date.FORMAT_DATE_NORMAL="%d-%m-%Y",Date.LANG_RU="ru_RU",Date.TIME_SEC_OF_ONE_DAY=86400,Date.TIME_MS_OF_ONE_DAY=1e3*Date.TIME_SEC_OF_ONE_DAY,Date.DIAPASON_DEFAULT=["Позавчера","Вчера","Сегодня","Завтра","Послезавтра"],Date.DIAPASON_SHIFT=-2,Date.FLAG_DIF_AT_SECONDS=1,Date.FLAG_DIF_AT_MINUTES=60,Date.FLAG_DIF_AT_HOURS=3600,Date.FLAG_DIF_AT_DAYS=86400,Date.FLAG_DATE_YEAR=1,Date.FLAG_DATE_MONTH=2,Date.FLAG_DATE_DAY=4,Date.FLAG_DATE_HOUR=8,Date.FLAG_DATE_MINUTES=16,Date.FLAG_DATE_SECONDS=32,Date.getDateStampNum=function(t){if(!isNaN(parseFloat(t)))return parseInt(t);var e=t instanceof Date?t.getTime():(new Date).getTime();return parseInt(e/Date.TIME_MS_OF_ONE_DAY)*Date.TIME_MS_OF_ONE_DAY},Date.getDatesDif=function(t,e,n){void 0===n&&(n=Date.FLAG_DIF_AT_DAYS);var r=Date.getDateStampNum(t)-Date.getDateStampNum(e);return parseInt(r/n)},Date.getDatesDifRelToday=function(t,e){return void 0===e&&(e=Date.FLAG_DIF_AT_DAYS),Date.getDatesDif(t,Date.getDateStampNum(),e)},Date.prototype.getDatesDifRelToday=function(t){return Date.getDatesDifRelToday(this,t)},Date.isCurrentDate=function(t,e){void 0===e&&(e=Date.FLAG_DATE_YEAR);for(var n="%Y%m%d%H%M%S",r="";e>0;)e%2==1&&(r+=n.substr(0,2)),e>>=1;return r||(r=n),strftime(r,Date.getDateStampNum().toDate(),"rus")==strftime(r,Date.getDateStampNum(t).toDate(),"rus")},Date.getDateTitleRelToday=function(t,e,n,r){e||(e=Date.DIAPASON_DEFAULT),r||(r=String.CASE_LOWER);var i=Date.getDatesDifRelToday(t);void 0!==n&&null!==n||(n="%d %B",Date.isCurrentDate(t)||(n+=" %Y г."));var a=e[i-Date.DIAPASON_SHIFT]||strftime(n,t,"rus");return null!=r&&(a=a.convertCharCase(r)),a},Date.prototype.getDateTitleRelToday=function(t,e,n){return Date.getDateTitleRelToday(this,t,e,n)},Number.prototype.toDate=function(){return new Date(this)},function(){function t(t,e,n){return e.strftime(t,n)}function e(t,e,s){function o(e,n,r,i){var a=0;S=e;var s=t.substr(0,S);return i instanceof Function&&void 0!==(a=i(s))&&(s=a),new RegExp("\\d{"+S+"}").test(s)?(s*=1,r instanceof Function&&void 0!==(a=r(s))&&(s=a)):n instanceof Function?n():n instanceof Object?(console.error((n.text instanceof Function?n.text(s):n.text)+" ["+d+"]",y),s=n.val instanceof Function?n.val(s):n.val):(console.error((n instanceof Function?n(s):n)+" ["+d+"]",y),s=0),s}var c,u,l,h,g,f,d,p,A,m=!1,S=0,E=0,y=t;e||(e=a),"string"!=typeof s&&(s=i);var w=(getWDS(s),getWDF(s),getMNS(s)),v=getMNF(s);for(n=new RegExp("("+w.join(")|(")+")","gi"),r=new RegExp("("+v.join(")|(")+")","gi"),d=0,p=e.length,A=e[0];d<p;++d,A=e[d])if(m||"%"!=A)if(m){switch(A){case"b":case"h":S=t.match(n)[0].length,u=-1,u=w.map(function(e,n){if(e==t.substr(0,S))return n}),-1==u&&(console.error("Неизвестный месяц ["+d+"]",y),u=0);break;case"B":var C=t.match(r);if(!C||C&&!C.length){console.error("Неизвестный месяц ["+d+"]",y);continue}S=C[0].length,u=-1,v.map(function(e,n){e.toLowerCase()==t.substr(0,S).toLowerCase()&&(u=n)}),-1==u&&(console.error("Неизвестный месяц ["+d+"]",y),u=0);break;case"d":case"e":l=o(2,function(t){return"Ожидался день, а дождались вот это <"+t+">"},function(t){t>31&&console.error("Ну ты вообще фокусник, откуда столько?",y)},function(t){if(" "==t[0])return"0"+t[1]});break;case"g":case"y":c=o(2,function(t){return{text:"В как СИ ты год вбиваешь? Требуемый формат YY,\t\t\t\t\t\t\t\t\t\tгде Y in [0,9]. А это что: <"+t+">?",val:(new Date).getFullYear()}},function(t){return t+100*Math.floor((new Date).getFullYear()/100)});break;case"G":case"Y":c=o(4,function(t){return"В как СИ ты год вбиваешь? Требуемый формат YYYY,\t\t\t\t\t\t\t\t\tгде Y in [0,9]. А это что: <"+t+">?"});break;case"H":h=o(2,function(t){return"Часы должны принимать значение \t\t\t\t\t\t\t\t\tот 00 до 23, а не <"+t+">"},function(t){if(t<0||t>23)return console.error("Часы должны принимать значение \t\t\t\t\t\t\t\t\tот 00 до 23, а не <"+t+">"),0});break;case"I":h=o(2,function(t){return"Часы должны принимать значение \t\t\t\t\t\t\t\t\tот 00 до 12, а не <"+t+">"},function(t){return(t<0||t>12)&&console.error("Часы должны принимать значение \t\t\t\t\t\t\t\t\tот 00 до 12, а не <"+t+">"),0});break;case"m":u=o(2,function(t){return"Месяц - числовое значение, а получено <"+t+">"},function(t){if(t<1||t>12)return console.error("Где ты такие месяца видел? Допустимый \t\t\t\t\t\t\t\t\t\t\t\tдиапазон 01-12 <"+t+"> ["+d+"]",y),0})-1;break;case"M":g=o(2,function(t){return"Требуемый вид M или MM, где M in [0,9] <"+t+">"},function(t){if(t<0||t>59)return console.error("Минуты - числа в интервале \t\t\t\t\t\t\t\t\t\t\t\tот 00 до 59. <"+t+"> ["+d+"]"),0});break;case"n":"\n"!=t[0]&&console.error("Ожидался переход на новую строку, \t\t\t\t\t\t\t\t\t\tа встречен <"+t[0]+"> ["+d+"]",y);break;case"p":S=2;var f=t.substr(0,2).toLowerCase();"am"==f?E=1:"pm"==f?E=2:(E=0,console.error("Ожидалось pm или am, встечено <"+f+"> ["+d+"]",y));break;case"S":f=o(2,function(t){return"Секунды - числа в диапазано от 00 до 59 <"+t+">"},function(t){return(t<0||t>59)&&console.error("Значение должно быть в интервале \t\t\t\t\t\t\t\t\t\t\tот 00 до 50 <"+t+"> ["+d+"]",y),0});break;case"t":"\n"!=t[0]&&console.error("Ожидалася табуляция, \t\t\t\t\t\t\t\t\t\tа встречена <"+t[0]+"> ["+d+"]",y)}t=t.substr(S),m=!1}else m||(A!=t[0]&&console.error("Встречен <"+t[0]+"> вместо ожидаемого <"+A+">",e),t=t.substr(1));else m=!0;return new Date(c||(new Date).getFullYear(),u||0,l||1,(2==E&&h<12?h+12:h)||0,g||0,f||0)}Date.options instanceof Object||(Date.options={}),Date.options.datetime={LANG_RU:"rus",LANG_EN:"eng"};var n,r,i=Date.options.datetime.LANG_RU,a="%H:%m %D.%M.%Y";(getWDS=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){switch("string"==typeof t?t:i){case"rus":return["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];case"eng":return["Sun","Mon","Tue","Wed","Th","Fr","Sa"];default:if(t!=i)return getWDS(i)}}))(),(getWDF=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){switch("string"==typeof t?t:i){case"rus":return["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"];case"eng":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];default:if(t!=i)return getWDF(i)}}))(),(getMNS=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){switch("string"==typeof t?t:i){case"rus":return["Янв","Фев","Март","Апр","Май","Июнь","Июль","Авг","Сент","Окт","Ноя","Дек"];case"eng":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];default:if(t!=i)return getMNS(i)}}))(),(getMNF=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){switch("string"==typeof t?t:i){case"rus":return["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"];case"eng":return["January","February","March","April","May","June","July","August","September","October","November","December"];default:if(t!=i)return getMNF(i)}}))();Date.prototype.strftime=function(t,e){"string"!=typeof t&&(t=a),"string"!=typeof e&&(e=i);for(var n=getWDS(e),r=getWDF(e),s=getMNS(e),o=getMNF(e),c=!1,u="",l=this.getFullYear(),h=this.getMonth(),g=this.getDate(),f=this.getHours(),d=this.getMinutes(),p=this.getSeconds(),A=this.getDay(),m=Math.floor((this-new Date(l,0,1))/864e5)+1,S=0,E=t.length,y=t[0];S<E;++S,y=t[S])if(c||"%"!=y)if(c){switch(y){case"a":u+=n[A];break;case"A":u+=r[A];break;case"h":case"b":u+=s[h];break;case"B":u+=o[h];break;case"c":u+=n[A]+" "+s[h]+" "+g+" "+this.toTimeString().substr(10)+" "+l;break;case"C":u+=Math.floor(l/100);break;case"d":case"e":u+=(g<10?"d"==y?"0":" ":"")+g;break;case"x":case"D":u+=(h<9?"0":"")+(h+1)+"/"+(g<10?"0":"")+g+"/"+l.toString().substr(2,2);break;case"F":u+=l+"-"+(h<9?"0":"")+(h+1)+"-"+(g<10?"0":"")+g;break;case"y":case"g":u+=l.toString().substr(2,2);break;case"Y":case"G":u+=l;break;case"H":u+=(f<10?"0":"")+f;break;case"I":u+=(f%12<10?"0":"")+f%12;break;case"j":u+=m;break;case"m":u+=(h<9?"0":"")+(h+1);break;case"M":u+=(d<10?"0":"")+d;break;case"n":u+="\n";break;case"p":u+=Math.floor(f/12)?"PM":"AM";break;case"r":u+=(f%12<10?"0":"")+f%12+":"+(d<10?"0":"")+d+":"+(p<10?"0":"")+p+" "+(Math.floor(f/12)?"pm":"am");break;case"R":u+=(f<10?"0":"")+f+":"+(d<10?"0":"")+d;break;case"S":u+=(p<10?"0":"")+p;break;case"t":u+="\t";break;case"X":case"T":u+=(f<10?"0":"")+f+":"+(d<10?"0":"")+d+":"+(p<10?"0":"")+p;break;case"u":u+=A;break;case"U":case"V":break;case"w":u+=this.getDay();break;case"W":break;case"z":u+=this.toTimeString().match(/(\+|\-)\d+/)[0];break;case"Z":u+="GTM";break;case"%":u+="%";break;default:u+=""}c=!1}else c||(u+=y);else c=!0;return u},window.strftime=t,window.strptime=e}(),function(t){function e(){this._index=-1,this._summary=this.neutral()}var n=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173];e.create=function(){return new e},e.push=function(t,e){return e*t},e.prototype.default=e.prototype.neutral=function(){return 1},e.prototype.next=function(){if(++this._index>=n.length-1)throw"Слишком много значений для энумиратора: не более 40";var t=n[this._index];return this._summary*=t,t},e.prototype.sum=function(){return this._summary},e.prototype.inSum=e.prototype.check=e.prototype.used=function(t,e){var n=this._summary/t/e;return parseInt(n)-n!=0},e.prototype.notInSum=e.prototype.unchecked=e.prototype.unused=function(t,e){return!this.check(t,e)},t.Enum=e}(window),function(t){t.fn.fiasCity=function(e){return e=t.extend({update_field:""},e),this.addClass("fias-autocomplete"),this.autocomplete({minLength:2,delay:500,source:function(e,n){t.ajax({url:"/ajax.php?action=fias&faction=findCityByString",type:"GET",data:{q:e.term,addinfo:!0},success:function(e){var r=[];e=JSON.parse(e),t(e).each(function(t,e){var n=e.shortname+" "+e.offname;null==e.grandparentname&&null==e.parentname||(n+=" (",null!=e.grandparentname&&(n+=e.grandparentshort+" "+e.grandparentname),null!=e.parentname&&(null!=e.grandparentname&&(n+=", "),n+=e.parentshort+" "+e.parentname),n+=")"),r.push({id:e.aoguid,label:n,value:n})}),n(r)}})},select:function(n,r){t(n.target).data("cityguid",r.item.id),""!=e.update_field&&t(e.update_field).val(r.item.id)}}),this},t.fn.fiasStreet=function(){var e,n=this.data("cityguid"),r=this;return this.addClass("fias-autocomplete"),t.ajax({url:"/fias/get-all-streets-by-city/",type:"GET",delay:0,data:{cityguid:n},success:function(n){var i=[];n=JSON.parse(n),t(n).each(function(t,e){i.push({id:e.aoguid,label:e.shortname+" "+e.offname,value:e.shortname+" "+e.offname})}),e=i,r.autocomplete({source:e,select:function(e,n){t(e.target).data("streetguid",n.item.id)}})}}),this},t.fn.fiasHouse=function(e){var n=t(e);return this.addClass("fias-autocomplete"),this.autocomplete({minLength:1,delay:100,source:function(e,r){var i=n.data("streetguid");t.ajax({url:"/fias/find-house/",type:"GET",data:{q:e.term,aoguid:i},success:function(e){var n=[];e=JSON.parse(e),t(e).each(function(t,e){n.push({id:e.houseguid,label:e.housenum+e.buildnum+e.strucnum,value:e.housenum+e.buildnum+e.strucnum})}),r(n)}})},select:function(e,n){t(e.target).data("houseguid",n.item.id)}}),this},t.fn.fiasACStyle=function(){t("head").append("<style>  .ui-autocomplete {    max-height: 100px;    overflow-y: auto;    /* prevent horizontal scrollbar */    overflow-x: hidden; } .fias-autocomplete.ui-autocomplete-loading {  background: white url('data:image/gif;base64,R0lGODlhEAAQAPMPALu7u5mZmTMzM93d3REREQAAAHd3d1VVVWZmZqqqqoiIiO7u7kRERCIiIgARAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBwAPACwAAAAAEAAQAEAEcPDJtyg6dUrFetDTIopMoSyFcxxD1krD8AwCkASDIlPaUDQLR6G1Cy0SgqIkE1IQGMrFAKCcGWSBzwPAnAwarcKQ15MpTMJYd1ZyUDXSDGelBY0qIoBh/ZoYGgELCjoxCRRvIQcGD1kzgSAgAACQDxEAIfkEBQcADwAsAAAAAA8AEAAABF3wyfkMkotOJpscRKJJwtI4Q1MAoxQ0RFBw0xEvhGAVRZZJh4JgMAEQW7TWI4EwGFjKR+CAQECjn8DoN0kwDtvBT8FILAKJgfoo1iAGAPNVY9DGJXNMIHN/HJVqIxEAIfkEBQcADwAsAAAAABAADwAABFrwyfmColgiydpaQiY5x9Ith7hURdIl0wBIhpCAjKIIxaAUPQ0hFQsAC7MJALFSFi4SgC4wyHyuCYNWxH3AuhSEotkNGAALAPqqkigG8MWAjAnM4A8594vPUyIAIfkEBQcADwAsAAAAABAAEAAABF3wySkDvdKsddg+APYIWrcg2DIRQAcU6DJICjIsjBEETLEEBYLqYSDdJoCGiHgZwG4LQCCRECEIBAdoF5hdEIWwgBJqDs7DgcKyRHZl3uUwuhm2AbNNW+LV7yd+FxEAIfkEBQcACAAsAAAAABAADgAABEYQyYmMoVgeWQrP3NYhBCgZBdAFRUkdBIAUguVVo1ZsWFcEGB5GMBkEjiCBL2a5ZAi+m2SAURExwKqPiuCafBkvBSCcmiYRACH5BAUHAA4ALAAAAAAQABAAAARs0MnpAKDYrbSWMp0xZIvBKYrXjNmADOhAKBiQDF5gGcICNAyJTwFYTBaDQ0HAkgwSmAUj0OkMrkZM4HBgKK7YTKDRICAo2clAEIheKc9CISjEVTuEQrJASGcSBQcSUFEUDQUXJBgDBW0Zj34RACH5BAUHAA8ALAAAAAAQABAAAARf8Mn5xqBYgrVC4EEmBcOSfAEjSopJMglmcQlgBYjE5NJgZwjCAbO4YBAJjpIjSiAQh5ayyRAIDKvJIbnIagoFRFdkQDQKC0RBsCIUFAWsT7RwG410R8HiiK0WBwJjFBEAIfkEBQcADgAsAQABAA8ADwAABFrQybEWADXJLUHHAMJxIDAgnrOo2+AOibEMh1LN62gIxphzitRoCDAYNcNN6FBLShao4WzwHDQKvVGhoFAwGgtFgQHENhoB7nCwHRAIC0EyUcC8Zw1ha3NIRgAAIfkEBQcADwAsAAAAABAAEAAABGDwyfnWoljaNYYFV+Zx3hCEGEcuypBtMJBISpClAWLfWODymIFiCJwMDMiZBNAAYFqUAaNQ2E0YBIXGURAMCo1AAsFYBBoIScBJEwgSVcmP0li4FwcHz+FpCCQMPCFINxEAIfkEBQcADgAsAAABABAADwAABFzQyemWXYNqaSXY2vVtw3UNmROM4JQowKKlFOsgRI6ASQ8IhSADFAjAMIMAgSYJtByxyQIhcEoaBcSiwegpDgvAwSBJ0AIHBoCQqIAEi/TCIAABGhLG8MbcKBQgEQAh+QQFBwAPACwAAAEAEAAPAAAEXfDJSd+qeK5RB8fDRRWFspyotAAfQBbfNLCVUSSdKDV89gDAwcFBIBgywMRnkWBgcJUDKSZRIKAPQcGwYByAAYTEEJAAJIGbATEQ+B4ExmK9CDhBd8ThdHw/AmUYEQAh+QQFBwAPACwAAAEADwAPAAAEXvBJQIa8+ILSspdHkXxS9wxF4Q3L2aTBeC0sFjhAtuyLIjAMhYc2GBgaSKGuyNoBDp7czFAgeBIKwC6kWCAMxUSAFjtNCAAFGGF5tCQLAaJnWCTqHoREvQuQJAkyGBEAOw==') right center no-repeat !important; } </style>")}}(jQuery);var updateQueryStringParam=function(t,e){var n=[location.protocol,"//",location.host,location.pathname].join(""),r=document.location.search,i=t+"="+e,a="?"+i;if(r){var s=new RegExp("([?&])"+t+"[^&]*"),o=new RegExp("([?&])"+t+"=[^&;]+[&;]?");void 0===e||null===e||""===e?(a=r.replace(o,"$1"),a=a.replace(/[&;]$/,"")):a=null!==r.match(s)?r.replace(s,"$1"+i):r+"&"+i}a="?"===a?"":a,window.history.replaceState({},"",n+a)};window.loadScript=function(t,e){return new Promise(function(n,r){var i=document.createElement("script");if(i.onload=n,i.onerror=r,i.src=t,i.type="text/javascript",null!==e&&"object"===(void 0===e?"undefined":_typeof(e)))for(var a in e)i.dataset[a]=e[a];document.getElementsByTagName("body")[0].appendChild(i)})},function(t){function e(e,r){this.$img=e instanceof t?e:t(e),this.data=this.validate(r);var i=this;this.$img.parent().on("mouseleave",function(){i._isVisible=!1,i.$lensWrap&&i.hide()}),this.$img.on("hover mouseenter",this._onHover.bind(this)),this.hide(),n.push(this)}var n=[],r=e.prototype;r.validate=function(e){return e||(e={}),e.drawIn||(e.drawIn=t(document.body)),e.drawIn instanceof t||(e.drawIn=t(e.drawIn)),e.viewContainer||(e.viewContainer=t(document.body)),e.viewContainer instanceof t||(e.viewContainer=t(e.viewContainer)),e.zoom||(e.zoom=1),e.zoomStep||(e.zoomStep=.1),e.defaultZoom=e.zoom,e.minZoom||(e.minZoom=.5),e.maxZoom||(e.maxZoom=3),e.containerWidth||(e.containerWidth=void 0),e.srcImgContainerWidth=parseInt(e.srcImgContainerWidth),e},r.render=function(){return this.$lensWrap=t('<div class="zoomer-lens-wrap" />').css({position:"absolute"}),this.$lens=t('<div class="zoomer-lens"></div>'),this.$lensImg=t('<img src="'+this.$img.attr("src")+'">'),this.$lensImg.css({position:"absolute"}),this.$lens.append(this.$lensImg),this.$lens.css({position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.3)",maxWidth:"100%",maxHeight:"100%",overflow:"hidden"}),this.$lensWrap.append(this.$lens),this.$el=t('<img src="'+this.$img.data("full")+'" />')},r.remove=function(){this.$lens&&this.$lens.remove(),this.$lensImg&&this.$lensImg.remove(),this.$lensWrap&&this.$lensWrap.remove(),this.$el&&this.$el.remove()},r.show=function(){this.data.viewContainer.show(),this.data.drawIn.append(this.$el),this.$img.after(this.$lensWrap)},r.hide=function(){this.data.viewContainer.hide(),this.$el&&this.$el.remove(),this.$el=null,this.$lensWrap&&this.$lensWrap.remove()},r._calcPre=function(){this.pos={x:0,y:0},this.sizeFactor={width:this.$el.width()/this.$img.width(),height:this.$el.height()/this.$img.height()},this.imgData={width:this.$img.width(),height:this.$img.height(),left:this.$img.offset().left,top:this.$img.offset().top},this.$lensWrap.css({left:this.data.srcImgContainerWidth?(this.data.srcImgContainerWidth-this.$img.width())/2:this.$img.position().left,top:this.$img.position().top,width:this.$img.width(),height:this.$img.height()}),this.$lensImg.css({width:this.$img.width(),height:this.$img.height()})},r.recalc=function(){if(!(this.$el instanceof t)||0==this.$el.length)return!1;if(!(this.$lens instanceof t)||0==this.$lens.length)return!1;if(!(this.$lensImg instanceof t)||0==this.$lens.length)return!1;if(!(this.imgData instanceof Object))return!1;if(isNaN(parseInt(this.imgData.width)))return!1;if(isNaN(parseInt(this.imgData.height)))return!1;if(isNaN(parseInt(this.imgData.left)))return!1;if(isNaN(parseInt(this.imgData.top)))return!1;var e=this.lensFactor={width:this.data.drawIn.width()/this.$el.width(),height:this.data.drawIn.height()/this.$el.height()},n=void 0,r=void 0;this.$lens.width(n=e.width*this.imgData.width),this.$lens.height(r=e.height*this.imgData.height);var i={left:Math.max(Math.min(this.pos.x-n/2,this.imgData.width-n),0),top:Math.max(Math.min(this.pos.y-r/2,this.imgData.height-r),0)};this.$lens.css(i),this.$el.css({marginLeft:-i.left*this.sizeFactor.width,marginTop:-i.top*this.sizeFactor.height}),this.$lensImg.css({left:-i.left-parseFloat(this.$lens.css("border-left-width")),top:-i.top-parseFloat(this.$lens.css("border-top-width"))})},r.delegateEvents=function(){this.$lensWrap.on("mouseleave",this._onLeave.bind(this)),this.$lensWrap.on("mousemove",this._onMove.bind(this)),t(window).scroll(this._scrollingFn=this.recalc.bind(this))},r.undelegateEvents=function(){this.$lensWrap.off("mousemove"),this.$lensWrap.off("mouseleave"),t(window).off("scroll",this._scrollingFn)},r._onHover=function(){if(void 0===this.$el||null==this.$el){this.closeAll(),this.data.zoom=this.data.defaultZoom,this.render(),this.delegateEvents();var t=this;this._isVisible=!0,this.$el.on("load",function(){if(!0===t._isVisible)return t.show(),t._calcPre(),t.recalc(),t.lensFactor.width>=1&&t.lensFactor.height>=1?t._onLeave():void 0})}},r._onLeave=function(){this._isVisible=!1,this.hide(),
this.undelegateEvents(),this.remove()},r._onMove=function(e){var n=e.clientX-this.$lensWrap.offset().left+t(window).scrollLeft(),r=e.clientY-this.$lensWrap.offset().top+t(window).scrollTop();this.pos.x=Math.max(Math.min(n,this.$img.width()),0),this.pos.y=Math.max(Math.min(r,this.$img.height()),0),this.recalc()},r._onScroll=function(t,e){e=e||t.detail||t.wheelDelta||t.originalEvent.detail||t.originalEvent.wheelDelta;var n=e/Math.abs(e);this.data.zoom+=this.data.zoomStep*n,this.data.zoom<this.data.minZoom&&(this.data.zoom=this.data.minZoom),this.data.zoom>this.data.maxZoom&&(this.data.zoom=this.data.maxZoom),this.recalc(),t.preventDefault()},r.closeAll=function(){for(var t=0,e=n.length;t<e;++t)n[t]!=this&&n[t].hide.call(n[t])},t.fn.zoomer=function(t){this.each(function(){new e(this,t)})}}(jQuery),function(t,e,n){function r(){if(n===window.ymaps||n===ymaps.util)return void setTimeout(r,100);ymaps.ready(i)}function i(){window.PieChartClusterer=function(t){PieChartClusterer.superclass.constructor.apply(this,arguments)},PieChartClusterer.COLORS={blue:"0A6CC8",darkblue:"3D4AE9",darkgreen:"158B02",darkorange:"CD6D2D",green:"1AB500",grey:"94948E",lightblue:"4391E7",night:"143A6B",orange:"CCA42B",pink:"E666DD",red:"E03632",violet:"A41DE2",white:"FFFFFF",yellow:"D4C62C",brown:"946134",black:"000000"},PieChartClusterer.SIZES=[[65,65],[80,80],[95,95]],PieChartClusterer.NUMBERS=[10,100],PieChartClusterer.OPACITY=.9,PieChartClusterer.URL_TEMPLATE=["//chart.googleapis.com/chart?cht=pc","chs=#{width}x#{height}","chd=t:1|#{data}","chco=FFFFFF,#{colors}","chf=a,s,000000#{opacity}|bg,s,00000000"].join("&"),PieChartClusterer.dec2hex=function(t){var e=Math.floor(255*t).toString(16);return e.length<2&&"0"+e||e},PieChartClusterer.rgb2hex=function(t){var e=t.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return e&&4===e.length?("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):t},ymaps.util.augment(PieChartClusterer,ymaps.Clusterer,{createCluster:function(t,e){var n=PieChartClusterer.superclass.createCluster.apply(this,arguments);return n.options.set({icons:this.getClusterIcons(e),numbers:this.getClusterNumbers()}),n},getClusterNumbers:function(){return this.options.get("clusterNumbers",PieChartClusterer.NUMBERS)},getClusterIconOpacity:function(){return this.options.get("clusterIconOpacity",PieChartClusterer.OPACITY)},getClusterIconSizes:function(){var t=this.options.get("clusterIcons");if(t){for(var e,n=[],r=0;e=t[r]&&t[r].size;)n[r++]=e;return n}return PieChartClusterer.SIZES},getClusterIcons:function(t){for(var e,n=this.getClusterIconSizes(),r=0,i=[];e=n[r];)i[r++]={href:this.formatClusterIconHref(e,this.getClusterIconColors(t)),size:e,offset:[-Math.floor(e[0]/2),-Math.floor(e[1]/2)]};return i},getClusterIconColors:function(t){for(var e,n,r=t.length,i={};n=t[--r];)e=this.getColor(n),i[e]=i[e]+1||1;return i},formatClusterIconHref:function(t,e){var n=[],r=[],i=0;for(r[i]in e)n[i]=e[r[i++]];var a={width:t[0],height:t[1],data:n.join(","),colors:(r.length<2?[r[0],r[0]]:r).join("|"),opacity:PieChartClusterer.dec2hex(this.getClusterIconOpacity())};return PieChartClusterer.URL_TEMPLATE.replace(/#{(\w+)}/g,function(t,e){return a[e]})},getColor:function(t){if(t.options.get("iconColor",!1)){var e=t.options.get("iconColor").replace("#","");return PieChartClusterer.rgb2hex(e)}return t.options.get("preset","twirl#blueIcon").match(/#([a-z]+)[A-Z]/)[1]}})}e(function(){r()})}(document,jQuery);var screenSite={phone:480,tablet:768,desktop:960,"wide-desktop":1200};screen.getScreen=function(t){return void 0!==screenSite[t]?screenSite[t]:null},screen.getCurrentWidth=function(){return $(document).width()},screen.getCurrentScreen=function(){var t=screen.getCurrentWidth(),e=null;for(var n in screenSite){if(screenSite[n]>=t)return void 0!==e?e:n;e=n}return e},$.fn.scrollTo=function(t,e,n){"function"==typeof e&&2===arguments.length&&(n=e,e=t);var r=$.extend({scrollTarget:t,offsetTop:50,duration:500,easing:"swing"},e);return this.each(function(){var t=$(this),e="number"==typeof r.scrollTarget,i=!0===e?r.scrollTarget:$(r.scrollTarget),a=!0===e?i:i.offset().top+t.scrollTop()-parseInt(r.offsetTop),s=$("#header-search");0!==s.length&&"fixed"===s.css("position")&&(a-=s.height()+parseInt(s.css("padding-top"))),t.animate({scrollTop:a},parseInt(r.duration),r.easing,function(){"function"==typeof n&&n.call(this)})})},function(t){var e=!1,n=function e(n,r){this.$el=n,this.$box=null,this.$icon=null,this.$glyph=null,this.settings=t.extend({},e.defaults,r),-1===this.settings.wrapClassName.indexOf("bs-password_wrapper")&&(this.settings.wrapClassName=["bs-password_wrapper",this.settings.wrapClassName].join(" ")),-1===this.settings.iconClassName.indexOf("bs-password_icon")&&(this.settings.iconClassName=["bs-password_icon",this.settings.iconClassName].join(" ")),this.initialType=this.$el.attr("type"),this.isPasswordVisible=!1;var i=this.settings.triggersShow,a=this.settings.triggersHide;i instanceof Array||(i=[i]),a instanceof Array||(a=[a]),i=t.unique(i),a=t.unique(a);for(var s=[],o=0,c=i.length;o<c;++o){var u=a.indexOf(i[o]);if(-1!==u){var l=i.splice(o,1)[0];a.splice(u,1),s.push(l)}}this.triggerShow=i.join(" "),this.triggerHide=a.join(" "),this.triggerToggle=s.join(" "),this.initStyleSheets(),this.init()};n.defaults={wrapClassName:"bs-password_wrapper",iconClassName:"bs-password_icon add-on input-group-addon",showPasswordClassName:"glyphicon glyphicon-eye-open",hidePasswordClassName:"glyphicon glyphicon-eye-close",triggersShow:["mouseenter","focus"],triggersHide:["mouseleave","blur"]};var r=n.prototype;r.init=function(){this.$box=t("<div/>",{class:this.settings.wrapClassName}),this.$glyph=t("<i/>",{class:this.settings.showPasswordClassName}),this.$icon=t("<button/>",{class:this.settings.iconClassName,type:"button"}),this.$icon.append(this.$glyph),this.$el.before(this.$box),this.$el.addClass("bs-password_input");var e=this;0!==this.triggerToggle.length&&this.$icon.on(this.triggerToggle,function(){e.toggle.apply(e,arguments)}),0!==this.triggerShow.length&&this.$icon.on(this.triggerShow,function(){e.show.apply(e,arguments)}),0!==this.triggerHide.length&&this.$icon.on(this.triggerHide,function(){e.hide.apply(e,arguments)}),this.$box.append(this.$el),this.$box.append(this.$icon)},r.initStyleSheets=function(){if(!e){var t={},n=/(^)|((\s|\t)+)/g,r=this.settings.wrapClassName.replace(n,"."),i=this.settings.iconClassName.replace(n,".");t[r]={position:"relative"},t[i]={background:null,border:null,cursor:"pointer",outline:null,position:"absolute",right:12,top:1},window.cssHelper.createStyle(t),e=!0}},r.show=function(){this.$el.attr("type","text"),this.isPasswordVisible=!0},r.hide=function(){this.$el.attr("type",this.initialType),this.isPasswordVisible=!1},r.toggle=function(){this.isPasswordVisible?this.hide():this.show()},t.fn.password=function(e){this.each(function(){var r=t(this),i=new n(r,e);r.data("password",i)})},t(function(){t('input[type="password"][data-toggle="password"]').password({triggersShow:"click",triggersHide:"click"})})}(window.jQuery),function(t,e,n,r){n.EVENT_GEOLOCATION_INIT="user-geolocation:init",n.POSITION_ERROR_PERMISSION_DENIED=1,n.POSITION_ERROR_POSITION_UNAVAILABLE=2,n.POSITION_ERROR_TIMEOUT=3,n.GEOLOCATION_PERMISSION_GRANTED="granted",n.GEOLOCATION_PERMISSION_PROMPT="prompt",n.GEOLOCATION_PERMISSION_DENIED="denied";var i=function(){var r=!1,i=void 0,a=void 0,s=void 0;void 0!==e.permissions&&e.permissions.query({name:"geolocation"}).then(function(t){s=t,r=n.GEOLOCATION_PERMISSION_GRANTED===t}),this.init=function(){var o=function(e){i=e,r=!0,s=n.GEOLOCATION_PERMISSION_GRANTED,t(n).trigger(n.EVENT_GEOLOCATION_INIT)},c=function(e){a=e,r=n.POSITION_ERROR_PERMISSION_DENIED!==e.code,n.POSITION_ERROR_PERMISSION_DENIED===e.code&&(s=n.GEOLOCATION_PERMISSION_DENIED),t(n).trigger(n.EVENT_GEOLOCATION_INIT)};!1!="geolocation"in e&&e.geolocation.getCurrentPosition(o,c)},this.isAvailable=function(){return r},this.getPosition=function(){return i},this.getPositionError=function(){return a},this.checkPermission=function(t){if(!1==t instanceof Array&&1===arguments.length)return t===s;var e=!1,n=[];return t instanceof Array?n=t:arguments.length>1&&Array.prototype.push.apply(n,arguments),e=!1,n.forEach(function(t){e|=t===s}),1===e}};n.UserGeolocation=new i}(jQuery,navigator,window),window.getVisible=function(t){return[].slice.call(document.querySelectorAll(t)).filter(function(t){return t.offsetWidth>0&&t.offsetHeight>0})},function(t,e){function n(){var e=getScreenType(),n=e!==t.screenType;t.screenType=e,n&&r.trigger(EVENT_CHANGE_SCREEN_TYPE),r.trigger(":resize")}t.SCREEN_WIDE=1,t.SCREEN_DESKTOP=2,t.SCREEN_TABLET=3,t.SCREEN_MOBILE=4,t.SCREEN_NOT_SUPPORTED=0,t.SCREEN_MOBILE_MIN_WIDTH=320,t.SCREEN_MOBILE_MAX_WIDTH=767,t.SCREEN_TABLET_MAX_WIDTH=991,t.SCREEN_DESKTOP_MAX_WIDTH=1199,t.EVENT_CHANGE_SCREEN_TYPE="window.screen.type:changed",t.getScreenType=function(){var e=t.innerWidth;return e>SCREEN_DESKTOP_MAX_WIDTH?SCREEN_WIDE:e>SCREEN_TABLET_MAX_WIDTH?SCREEN_DESKTOP:e>SCREEN_MOBILE_MAX_WIDTH?SCREEN_TABLET:e>=SCREEN_MOBILE_MIN_WIDTH?SCREEN_MOBILE:SCREEN_NOT_SUPPORTED},t.checkScreenType=function(e){if(!(e instanceof Array)&&1===arguments.length)return e===t.getScreenType();var n=!1,r=[];e instanceof Array?r=e:arguments.length>1&&Array.prototype.push.apply(r,arguments);for(var i=0,a=r.length;i<a;++i)n|=r[i]==t.getScreenType();return n};var r=e(t);!function(){var n={};n[t.SCREEN_MOBILE]="mobile",n[t.SCREEN_TABLET]="tablet",n[t.SCREEN_DESKTOP]="desktop",n[t.SCREEN_WIDE]="wide",e.fn.setScrollingStateFor=function(t,r){r instanceof Array||!r||(r=[r]),r||(r=[]);var i="";0==r.length&&(i="not-scrolling");for(var a=0,s=r.length;a<s;++a){var o=r[a],c=n[o];i+=i?" ":"",i+="not-scrolling"+(c?"-":"")+c}var u=e(this);return t?u.addClass(i):u.removeClass(i)}}(),r.resize(n).trigger("resize"),r.get(0).onresize=n}(window,jQuery);