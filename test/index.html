<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Главная</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-136836500-1"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-136836500-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-136836500-1', { 'optimize_id': 'GTM-5V8P2X3'});
    </script>

    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());
        gtag('config', 'UA-136836500-1');
    </script>

    <!-- Google Analytics -->
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics_debug.js', 'ga');

        ga('create', 'UA-136836500-1', 'auto');
        ga('require', 'ec');

        ga('ec:addImpression', {
            'id': 'P12345',                   // Product details are provided in an impressionFieldObject.
            'name': 'Товар 1',
            'category': 'Категория товара 1/Подкатегория товара 1',
            'brand': 'DEXP',
            'variant': 'black',
            'list': 'Главная',
            'position': 1                     // 'position' indicates the product position in the list.
        });

        ga('ec:addImpression', {
            'id': 'P67890',
            'name': 'Товар 2',
            'category': 'Категория товара 2/Подкатегория товара 2',
            'brand': 'DEXP',
            'variant': 'gray',
            'list': 'Главная',
            'position': 2
        });

        ga('send', 'pageview');

    </script>
    <!-- End Google Analytics -->

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
        (function (m, e, t, r, i, k, a) {
            m[i] = m[i] || function () {
                (m[i].a = m[i].a || []).push(arguments)
            };
            m[i].l = 1 * new Date();
            k = e.createElement(t), a = e.getElementsByTagName(t)[0], k.async = 1, k.src = r, a.parentNode.insertBefore(k, a)
        })
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

        ym(52045218, "init", {
            clickmap: true,
            trackLinks: true,
            accurateTrackBounce: true,
            webvisor: true,
            ecommerce: "dataLayer"
        });
    </script>
    <noscript>
        <div><img src="https://mc.yandex.ru/watch/52045218" style="position:absolute; left:-9999px;" alt=""/></div>
    </noscript>
    <!-- /Yandex.Metrika counter -->
</head>

<body>

<style>
    input {
        background-color: red
    }
</style>


<div class="container">
    <div class="row">
        <div class="col-12">
            <h1>Главная страница</h1>
            <div class="product mb-4">
                <div class="product__title h4"><a href="product1.html" onclick="onProductClick1(); return !ga.loaded;">Товар
                    1</a>
                </div>
                <div class="mb-2">
                    <a href="#"
                       onclick="ym(52045218, 'reachGoal', 'addToCompare',{addToCompareURL: document.location.href,  isAuth:'false'} ); return true;"
                    >Сравнить</a>
                    <a href="#"
                       onclick="ym(52045218, 'reachGoal', 'addToWishlist',{addToWishlistURL: document.location.href,  isAuth:'false'} ); return true;"
                    >Добавить в избранное</a>
                </div>
                <a href="#" class="btn btn-primary"
                   onclick="ym(52045218, 'reachGoal', 'addToCart', {addToCartURL: document.location.href, addToCartContainer: 'homepageNewProduct', isAuth:'false'}); return true;">Купить</a>
                <a href="#"
                   onclick="ym(52045218, 'reachGoal', 'oneClick1',{oneClickURL: document.location.href,  isAuth:'false'} ); return true;"
                   class="btn btn-outline-secondary" data-toggle="modal" data-target="#exampleModal">Купить в 1 клик</a>
            </div>
            <div class="product">
                <div class="product__title h4">
                    <a href="product2.html" onclick="onProductClick2(); return !ga.loaded;">Товар 2</a>
                </div>
                <div class="mb-2">
                    <a href="#"
                       onclick="ym(52045218, 'reachGoal', 'addToCompare',{addToCompareURL: document.location.href,  isAuth:'false'} ); return true;"
                    >Сравнить</a>
                    <a href="#"
                       onclick="ym(52045218, 'reachGoal', 'addToWishlist',{addToWishlistURL: document.location.href,  isAuth:'false'} ); return true;"
                    >Добавить в избранное</a>
                </div>
                <a href="#" class="btn btn-primary"
                   onclick="ym(52045218, 'reachGoal', 'addToCart', {addToCartURL: document.location.href, addToCartContainer: 'homepageBestProducts', isAuth:'false'}); return true;">Купить</a>
                <a href="#"
                   onclick="ym(52045218, 'reachGoal', 'oneClick1',{oneClickURL: document.location.href,  isAuth:'false'} ); return true;"
                   class="btn btn-outline-secondary" data-toggle="modal" data-target="#exampleModal">Купить в 1 клик</a>
            </div>

            <div class="mt-5">
                <ul>
                    <li><a href="index.html">Главная</a></li>
                    <li><a href="catalog.html">Каталог</a></li>
                    <li><a href="product1.html">Страница товара 1</a></li>
                    <li><a href="product2.html">Страница товара 2</a></li>
                    <li><a href="cart.html">Корзина</a></li>
                    <li><a href="checkout-1-delivery.html">1 Оформление получение</a></li>
                    <li><a href="checkout-2-user-info.html">2 Оформление данные покупателя</a></li>
                    <li><a href="checkout-3-pay.html">3 Оформление оплата</a></li>
                    <li><a href="payment.html">Страница оплаты</a></li>
                    <li><a href="checkout-final.html">4 Финальный экран</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                ...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary"
                        onclick="ym(52045218, 'reachGoal', 'oneClick2', {oneClickURL: document.location.href}); return true;">
                    Купить
                </button>
            </div>
        </div>
    </div>
</div>

<script>
    function onProductClick1() {
        ga('ec:addProduct', {
            'id': 'P12345',
            'name': 'Товар 1',
            'category': 'Категория товара 1/Подкатегория товара 1',
            'brand': 'DEXP',
            'variant': 'black',
            'list': 'Главная',
            'position': 1
        });
        ga('ec:setAction', 'click', {list: 'Главная'});

        // Send click with an event, then send user to product page.
        // Send click with an event, then send user to product page.
        ga('send', 'event', 'UX', 'click', 'Главная', {
            hitCallback: function () {
                document.location = 'product1.html';
            }
        });
    }

    function onProductClick2() {
        ga('ec:addProduct', {
            'id': 'P67890',
            'name': 'Товар 2',
            'category': 'Категория товара 2/Подкатегория товара 2',
            'brand': 'DEXP',
            'variant': 'gray',
            'list': 'Главная',
            'position': 2
        });
        ga('ec:setAction', 'click', {list: 'Главная'});

        // Send click with an event, then send user to product page.
        ga('send', 'event', 'UX', 'click', 'Главная', {
            hitCallback: function () {
                document.location = 'product2.html';
            }
        });
    }

</script>


<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>
</html>