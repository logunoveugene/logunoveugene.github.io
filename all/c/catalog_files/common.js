function setUrlParameter(e,t,n){n=void 0===n||n;var o=window.location.href;if(o.indexOf(e+"=")>=0){var i=o.substring(0,o.indexOf(e)),a=o.substring(o.indexOf(e));a=a.substring(a.indexOf("=")+1),a=a.indexOf("&")>=0?a.substring(a.indexOf("&")):"",o=i+e+"="+t+a}else o.indexOf("?")<0?o+="?"+e+"="+t:o+="&"+e+"="+t;if(!n)return o;window.location.href=o}function removeUrlParameter(e,t){var n=e.split("?");if(n.length>=2){for(var o=t+"=",i=n[1].split(/[&;]/g),a=i.length;a-- >0;)-1!==i[a].lastIndexOf(o,0)&&i.splice(a,1);return e=n[0]+"?"+i.join("&")}return e}function updateUrlParameters(e,t){for(var n in t)if(t.hasOwnProperty(n)){var o="";null!==t[n]&&(o=encodeURI(n)+"="+encodeURIComponent(t[n]));var i=new RegExp("(\\?|&)"+encodeURI(n)+"=([^&]*)(&|$)","gi");e.match(i)instanceof Array?e=e.replace(i,"$1"+o+"$3"):""!==o&&(e=e.replace(/(\?|$)/,"?"+o+"&").replace(/&$/,""))}return e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,n){t(e).on("change",'[data-role="agree-input"]',function(){var e=t(this),n=e.closest('[data-role="agree-checker-container"]'),o=[],i=n.attr("data-target");if(""!==i&&void 0!==i&&(o=t(i)),0===o.length){var a=n.closest("FORM");0!==a.length&&(o=a.find('[type="submit"]'),0===o.length&&(o=a.find("BUTTON:last")))}0!==o.length&&o.prop("disabled",!1===e.is(":checked"))}),t(e).on("click",'[data-role="agree-label"]',function(){var e=t(this).closest('[data-role="agree-checker-container"]'),n=e.find('[data-role="agree-input"]');n.prop("checked",!n.is(":checked")),n.change()}),t(e).on("click",'[data-role="agree-label"] A',function(e){e.stopPropagation()})}(document,jQuery),function(e,t,n){function o(){if(n===window.ymaps)return void setTimeout(o);for(window.initPieChartClusterer&&window.initPieChartClusterer();i.length;){var e=i.shift();window.ymaps.ready(e)}}var i=[],a=!1;window.loadYandexMaps=function(e,r){n===r&&(r="ru_RU"),!1===t.isFunction(e)&&(e=function(){}),i.push(e),!1===a?(t.getScript("//api-maps.yandex.ru/2.1.74/?lang="+r,o),a=!0):o()}}(document,jQuery),function(e,t,n,o){var i=t.querySelector("head"),a={},r={};n.REGISTERED_JS_KEYS=n.REGISTERED_JS_KEYS||[];var c=function e(){if(!1===Object.values(r).every(function(e){return e}))return void setTimeout(e,1);var n=[].slice.call(t.querySelectorAll("[data-show-after-load]"));0!==n.length&&n.forEach(function(e){e.hidden=!1})};e(t).ajaxComplete(function(){setTimeout(c,300)}),e(t).ajaxSuccess(function(e,s,d,l){if(o!==l&&o!==l.assets){l.assets.jsFiles.forEach(function(e){var n=/.*\/assets\/\w{7,8}(\/.+)/,o=e.replace(n,"$1"),r='script[src$="'+o+'"]',c=t.querySelector(r);null!==c&&c.src.replace(n,"$1")===o||(c=t.createElement("script"),c.src=e,a[e]=!1,c.onload=function(){a[e]=!0},i.appendChild(c))}),l.assets.cssFiles.forEach(function(e){r[e.url]=!1,n.defferCSS(e.url,e.media).then(function(){r[e.url]=!0})}),Object.keys(l.assets.inlineCss).forEach(function(e){var n='link[data-asset-key="'+e+'"]',o=t.querySelector(n);null===o&&(o=t.createElement("div"),o.innerHTML=l.assets.inlineCss[e],i.appendChild(o.firstChild))});var u=function(){var e=[];if(Object.keys(l.assets.inlineJs).forEach(function(t){-1===n.REGISTERED_JS_KEYS.indexOf(t)&&(e.push(l.assets.inlineJs[t]),n.REGISTERED_JS_KEYS.push(t))}),0!==e.length){var o=t.createElement("script");o.type="text/javascript",o.innerHTML=e.join("\n"),i.appendChild(o)}};!function e(){if(!1===Object.keys(a).every(function(e){return!0===a[e]}))return void setTimeout(e,1);u()}(),c()}})}(jQuery,document,window,void 0),function(e){e(function(){e("[data-role=switched]").initSets()})}(jQuery),$(function(){$(".captcha-reload a").click(function(){return $(this).parents(".input-captcha").find(".captcha-img").trigger("click"),!1});var e=$("body");e.on("click",".captcha-reload",function(e){var t=$(this).closest(".input-captcha"),n=t.data("captcha-id");$("#"+n+"_preloader",t).css("display","inline-block"),$("#"+n+"_image",t).hide();var o="/captcha/"+Math.random()+"/",i=new Image;return i.src=o,i.onload=function(){$("#"+n+"_preloader",t).css("display","none"),$("#"+n+"_image",t).attr("src",o).show()},!1});e.on("click reload",window.SELECTOR_CAPTCHA_RELOAD,function(){var e=(new Date).getTime().toString(16),t=$(this),n=$("#"+t.data("reloader")),o=$("#"+t.data("captcha-id")),i=o.attr("src").split("?")[0]+"?v="+e,a=new Image;n.css("display","inline-block"),o.hide(),$.get(i+"&refresh=1").done(function(){a.src=i,$(a).on("load",function(){n.hide(),o.attr("src",i).show()})})})}),window.checkPerformance=function(e,t,n){var o;if(void 0===window.performance)return void console.error("Увы, но ваш браузер не поддерживает window.performance");performance.mark("s");for(var i=0;i<e;i++)n();performance.mark("e"),performance.measure("m","s","e");var a=performance.getEntriesByName("m").pop().duration;(o=console).log.apply(o,[t+":",Math.round(a)+" ms","на "+String.countPostfix(e,["итерацию","итерации","итераций"],"",!1)])},function(e,t,n){n.changeCity=function(e){n.sendChangeCityRequest(e,function(){n.location.reload()})},n.setCity=function(t){n.sendChangeCityRequest(t,function(){var t=e('[data-role="dropdown-city"]');t.closest(".header-top-menu__common-link").removeClass("w-choose-city-widget_city-select-popover-open"),t.remove()})},n.sendChangeCityRequest=function(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};n.CHANGE_CITY_URL=n.CHANGE_CITY_URL||"",""!==n.CHANGE_CITY_URL&&(n.toggleLoaderVisibility(!0),e.ajax({url:n.CHANGE_CITY_URL,dataType:"JSON",cache:!1,data:{city_guid:o},success:function(n){1===n.result&&(e("[data-role=city-shops-page]").length&&(t.cookie="to_city_shops=1;path=/;expires=0"),i(n))}}).always(function(){n.toggleLoaderVisibility(!1)}))}}(jQuery,document,window),$(function(){if(0!==document.querySelectorAll('[data-role="clipboard-button"]').length){new Clipboard('[data-role="clipboard-button"]').on("success",function(e){$(e.trigger).attr("title","Скопировано").tooltip({container:"body",placement:"bottom"})})}}),function(e,t,n){e(t).ready(function(){e("body").on("click","[data-commerce-target]",function(t){var n=this,o=void 0,i=e(this).data("commerce-target");"string"==typeof i&&(i=[i]),o=!0===window.checkScreenType(window.SCREEN_TABLET)?e(this).data("commerce-target-tablet"):!0===window.checkScreenType(window.SCREEN_MOBILE)?e(this).data("commerce-target-mobile"):e(this).data("commerce-target-desktop"),void 0!==o&&i.push(o),i.forEach(function(e){if(void 0!==window.ga){var t="button",o="click";if("CATALOG_PRODUCT_VOBLER_VIEW"===e){var i="";null===n.closest("#product-page")?(t="vobler_catalog",i=n.closest(".product-info").querySelector('[data-product-param="code"]').innerText):(t="vobler_product",i=n.closest("#product-page").querySelector('[data-product-param="code"]').innerText),o="vobler_click",e=n.innerText+"_"+i}window.ga("send","event",t,o,e)}void 0!==window.yaCounterReachGoal&&window.yaCounterReachGoal(e)})})})}(jQuery,document),function(e){function t(e,t){void 0!==window.YT&&(e=e||n,t=t||0,o=new window.YT.Player(e,{events:{onReady:function(){0!==t&&o.seekTo(t)}}}))}var n="fancybox-iframe-video";window.initFancyBox=function(){var i=e("a.lightbox-img");if(0!==i.length){var a={},r=[];i.each(function(e,t){var n=t.getAttribute("data-fancybox-group")||"common";void 0===a[n]&&(a[n]=n)});for(var c in a)!function(t){r.push(i.filter(function(){return"common"===t?e(this).is(":not([data-fancybox-group])"):e(this).is("[data-fancybox-group="+t+"]")}))}(c);i.click(function(e){e.preventDefault()});var s=!0,d=!1,l=void 0;try{for(var u,f=r[Symbol.iterator]();!(s=(u=f.next()).done);s=!0){var E=u.value;!function(i){var a={helpers:{title:{type:"inside",position:"top"},overlay:{closeClick:!0,locked:!1,fixed:!0}},nextEffect:"none",nextSpeed:0,prevEffect:"none",prevSpeed:0,margin:0,height:"100%",wrapCSS:"fancybox-default",scrolling:"no",autoCenter:!0,mouseWheel:!1,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner loading"></div></div></div></div>',loader:'<div id="fancybox-loading"><div><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" /></svg></div></div>'},beforeLoad:function(){this.title=i.find("[data-title]").data("title");var t=e.unique(this.wrapCSS.split(" "));"iframe"===this.type&&("show-reviewthree"===this.element[0].dataset.role&&t.push("fancybox-full"),t.push("dark"),this.wrapCSS=t.join(" ")),e(".fancybox-wrap").toggleClass("dark","iframe"===this.type),e(".fancybox-inner").toggleClass("loading",!0)},beforeShow:function(){this.inner.toggleClass("loading",!1),e("body").css({"overflow-y":"hidden"})},afterClose:function(){e("body").css({"overflow-y":"visible"})},beforeClose:function(){e("#fancybox-thumbs-slider").remove()},afterLoad:function(i){var a=e("<div>");if("iframe"===this.type){var r=e(this.inner).find("iframe");if(void 0===o){var c=document.createElement("script");c.src="https://www.youtube.com/player_api";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(c,s),r.attr("id",n)}else t(r.attr("id"),o.getCurrentTime())}if("image"===this.type&&a.append('<a href="'+(i.element.attr("data-original")||i.href)+'" target="_blank" class="show-full-size">Смотреть в полном размере</a>'),this.group.length>1){var d=e('<div class="thumbs-slider">');this.group.forEach(function(t,n){var o=e('<div class="item"></div>'),i=t.type,a="";a="iframe"===i?"show-reviewthree"===t.element[0].dataset.role?'<i class="icon-3d"></i>':"show-video"===t.element[0].dataset.role?'<i class="frame-icon show-video"></i>':"show-video-unpacking"===t.element[0].dataset.role?'<i class="frame-icon show-video-unpacking"></i>':"show-video-from-device"===t.element[0].dataset.role?'<i class="frame-icon show-video-from-device"></i>':'<i class="frame-icon"></i>':"inline"===i?'<i class="icon-3d" data-role="show-3d-image"></i>':t.element.html().trim(),o.html(a).data("index",n).click(function(){return!1===e(this).hasClass("active")&&e.fancybox.jumpto(e(this).data("index")),!1}).appendTo(d)}),a.append(d),d.wrap('<div class="thumbs-slider-wrap"></div>'),d.owlCarousel({items:4,afterInit:function(){var t=this,n=d.find(".item");if(n.removeClass("active"),n.eq(i.index).addClass("active"),n.length>4){var o=e('<span class="nav-btn next-slide"><i></i></span>'),a=e('<span class="nav-btn prev-slide"><i></i></span>');d.after(o).after(a),o.on("click",function(){t.next()}),a.on("click",function(){t.prev()});var r=4*parseInt(i.index/4);t.goTo(r)}}}),d.find("item").removeClass("active").eq(this.index).addClass("active")}"iframe"===this.type&&"true"===i.element.attr("data-video-from-device")&&0!==i.element.attr("data-download-url").length&&a.append('<a href="'+i.element.attr("data-download-url")+'" class="pseudo-link">Скачать оригинал видео</a>'),this.skin.append(a);var l=e('[data-role="video-link"]'),u=e(".show-video-from-device");0!==l.length&&l.on("click",function(e){e.preventDefault(),u.click()})},afterShow:function(){if(this.wrapCSS=e.unique((this.wrapCSS+("iframe"===this.type?"dark":"")).split(" ")).join(" "),"iframe"!==this.type){var t=this.outer,n=t.get(0),o=t.find(".fancybox-image");if(0!==o.length){var i=void 0,a=void 0,r=null,c=null,s=null,d=null,l=void 0,u=void 0,f=1,E=void 0,p=void 0,h=void 0,_=void 0,v=function(e){var t=f,n=s,p=d;f=null===e.scale?f:e.scale,f<t&&(f=t-.02),s=parseInt(i*f),d=parseInt(a*f),f>1&&(s>r||d>c)?(s=r,d=c):f<1&&(s<i||d<a)&&(s=i,d=a),o.get(0).style.setProperty("width",s+"px","important"),o.get(0).style.setProperty("height",d+"px","important"),o.get(0).style.setProperty("max-width",s+"px","important"),o.get(0).style.setProperty("max-height",d+"px","important"),l+=parseInt((n-s)/2),u+=parseInt((p-d)/2),E=a-d,h=i-s,o.get(0).style.setProperty("left",l+"px"),o.get(0).style.setProperty("top",u+"px")},m=function(e){if(null!==s&&null!==d&&s!==i&&d!==a){switch(e.direction){case Hammer.DIRECTION_LEFT:l-=5;break;case Hammer.DIRECTION_RIGHT:l+=5;break;case Hammer.DIRECTION_UP:u-=5;break;case Hammer.DIRECTION_DOWN:u+=5}u>p?u=p:u<E&&(u=E),l>_?l=_:l<h&&(l=h),o.get(0).style.setProperty("left",l+"px"),o.get(0).style.setProperty("top",u+"px")}},g=function(){var e=window.checkScreenType(window.SCREEN_MOBILE)?"75%":"100%";if(o.get(0).style.setProperty("max-width","100%","important"),o.get(0).style.setProperty("max-height",e,"important"),l=parseInt((o.parent().width()-o.width())/2),_=l,h=0,p=0,u=0,i=o.width(),a=o.height(),null===s&&(s=i),null===d&&(d=a),null===c||null===r){var t=new Image;t.src=o.prop("src"),r=t.naturalWidth,c=t.naturalHeight}};g(),e(window).on("resize",g);var w=new window.Hammer(n);w.get("pinch").set({enable:!0}),w.get("swipe").set({direction:window.Hammer.DIRECTION_ALL}),w.on("swipeleft",function(){e.fancybox.next()}).on("swiperight",function(){e.fancybox.prev()}).on("swipeup swipedown",function(){e.fancybox.close()}).on("pinchin pinchout",v).on("pan",m)}}}};i.fancybox(a)}(E)}}catch(e){d=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(d)throw l}}}};var o=void 0;e(function(){window.initFancyBox()})}(jQuery),jQuery(function(){$('[data-action="filterList"]').on("input",function(){var e=$(this).val(),t=$(this).data("target");e=new RegExp(e.toLowerCase().replace(/[е|ё]/,"[е|ё]")),$(t).children().each(function(){var t=$(this).text().toLowerCase();e.test(t)?$(this).css("display","block"):$(this).css("display","none")})})}),$(function(){$(".input-file").each(function(){var e=$(this);e.find("input[type=file]").on("change",function(){var t=$(this).val(),n=0;n=t.lastIndexOf("\\")?t.lastIndexOf("\\")+1:t.lastIndexOf("/")+1,e.find("label").text(t.slice(n))})})}),$(function(){$(document).ready(function(){function e(e,t){var n=[],o=[];if($.each(t,function(t,i){var a=$("#"+t,e);if(i.length&&a.length){var r=parseInt(a.offset().top);n[r]=a,o.push(r)}}),n.length){var i=Math.min.apply(null,o);n[i].focus(),$("html, body").animate({scrollTop:i-200},0)}return!0}$("[data-focus-on-error]").on("afterValidate",function(t,n){e($(this),n)})})}),function(e,t){function n(){var n=e("[data-menu-catalog-aside]"),i=null,r=[];e(t).on([t.EVENT_MOBILE_MENU_HAS_OPENED,t.EVENT_SHOWN_CATALOG_MOBILE_MENU].join(" "),function(){if(i instanceof e);i=null}).on(t.EVENT_MOBILE_MENU_HAS_OPENED,function(){i||(e(t).trigger(t.EVENT_DO_HIDE_CATALOG_MOBILE_MENU),i=o)}).on(t.EVENT_SHOWN_CATALOG_MOBILE_MENU,function(){i||(e(t).trigger(t.EVENT_MOBILE_MENU_DO_HIDE),i=n)}).on([t.EVENT_MOBILE_MENU_HAS_CLOSED,t.EVENT_HIDDEN_CATALOG_MOBILE_MENU].join(" "),function(){i&&r.length&&(i=!0,r.pop().trigger(t.EVENT_MENU_MOBILE_SHOW)),r.length||(i=null)}).on([t.EVENT_SHOWN_CATALOG_MOBILE_MENU,t.EVENT_MOBILE_MENU_HAS_OPENED,t.EVENT_OPENED_MOBILE_FILTERS_MENU,t.EVENT_OPEN_SEARCH].join(" "),function(){e("body").setScrollingStateFor(!0),a.data("prevState",a.attr("class")),a.removeClass("static").addClass("fixed on-top")}).on([t.EVENT_HIDDEN_CATALOG_MOBILE_MENU,t.EVENT_MOBILE_MENU_HAS_CLOSED,t.EVENT_CLOSED_MOBILE_FILTERS_MENU,t.EVENT_CLOSE_SEARCH].join(" "),function(){e("body").setScrollingStateFor(!1);var t=a.data("prevState");t&&(a.attr("class",t),a.data("prevState",null))})}t.EVENT_CHANGE_HEADER_FIXED_STATE="change:header[fixed]",t.EVENT_HARD_CHECK_HEADER_FIXED_STATE="check:header[fixed]",t.SELECTOR_HEADER_SEARCH="#header-search",t.SELECTOR_MOBILE_HEADER=".mobile-top-header",t.EVENT_OPEN_SEARCH="open:search",t.EVENT_CLOSE_SEARCH="close:search";var o=void 0,i=void 0,a=void 0;t.EVENT_SCROLLING_MOBILE_MENU="mobile:menu:scrolling",t.EVENT_MENU_DESKTOP_CATALOG_BTN_SHOW="menu:desktop:catalog-btn:show",t.EVENT_MENU_DESKTOP_CATALOG_BTN_HIDE="menu:desktop:catalog-btn:hide",e(function(){var r=void 0===t.isNeedFixedHeader||!0===t.isNeedFixedHeader;o=e("#header-menu"),i=e(t.SELECTOR_HEADER_SEARCH);var c=e(".mobile-search-wrapper");if(n(),i.length){var s=i.get(0).getBoundingClientRect(),d=s.top+t.pageYOffset,l=!1;a=e(t.SELECTOR_MOBILE_HEADER);var u=!1;i.addClass("slide");var f=i.find("[data-menu-desktop-toggle]"),E=i.find("[data-menu-desktop-wrap]"),p=i.find(".logo-container"),h=function(){var e=void 0;e=i.hasClass("navbar-fixed-top")?i.get(0).clientHeight:document.querySelector("header").clientHeight,E.css("max-height","calc(100vh - "+e+"px)"),E.css("width","calc(100vw - "+(E.offset().left+30)+"px)")},_=function(e){void 0===e&&(e=!E.hasClass("menu-desktop-wrap_showed")),E.toggleClass("menu-desktop-wrap_showed",e),h(),f.toggleClass("active",e)},v=function(e){p.toggleClass("large-btn",e),!1===e&&_(!1)};f.on("click",function(){_()}),e(document).on("click",function(t){var n=e(t.target);0===n.closest(".menu-desktop").length&&0===n.closest("[data-menu-desktop-toggle]").length&&_(!1)}),t.addEventListener(t.EVENT_MENU_DESKTOP_CATALOG_BTN_SHOW,function(){v(!0)}),t.addEventListener(t.EVENT_MENU_DESKTOP_CATALOG_BTN_HIDE,function(){v(!1)}),!0===r&&(e(t).scroll(function(){if(t.checkScreenType(t.SCREEN_MOBILE,t.SCREEN_TABLET)){var n=a.get(0).getBoundingClientRect();!u&&t.pageYOffset>n.height?(a.removeClass("static on-top").addClass("fixed"),u=!0):u&&t.pageYOffset<=n.height&&(a.addClass("static on-top").removeClass("fixed"),u=!1)}else{if(!l&&t.pageYOffset>=d)i.addClass("navbar-fixed-top"),t.checkScreenType(t.SCREEN_DESKTOP,t.SCREEN_WIDE)?e("header").css("padding-bottom",i.get(0).getBoundingClientRect().height):e("header").css("padding-bottom",0),l=!0,h();else{if(!(l&&t.pageYOffset<=d))return;i.removeClass("navbar-fixed-top"),t.checkScreenType(t.SCREEN_DESKTOP,t.SCREEN_WIDE)&&e("header").css("padding-bottom",0),l=!1,h()}t.dispatchEvent(new CustomEvent(t.EVENT_CHANGE_HEADER_FIXED_STATE,{detail:{isFixed:l}}))}}),e(t).trigger("scroll")),e(t).on([t.EVENT_HARD_CHECK_HEADER_FIXED_STATE,"resize"].join(" "),function(){t.dispatchEvent(new CustomEvent(t.EVENT_CHANGE_HEADER_FIXED_STATE,{detail:{isFixed:l}}))}),c.on("focusin",function(){c.addClass("focus")}).on("focusout",function(){c.removeClass("focus")})}})}(jQuery,window),function(e,t){!function(){t.EVENT_DO_HIDE_CATALOG_MOBILE_MENU="catalog-menu:mobile:hide",t.EVENT_SHOWN_CATALOG_MOBILE_MENU="catalog-menu:mobile:shown",t.EVENT_HIDDEN_CATALOG_MOBILE_MENU="catalog-menu:mobile:hidden",t.EVENT_MENU_MOBILE_SHOW="global:open",e(function(){function n(){a=!0,i.get(0).scrollTop=0,i.addClass("shown"),e(t).trigger(t.EVENT_SHOWN_CATALOG_MOBILE_MENU)}function o(){0!==i.length&&(a=!1,i.removeClass("shown"),e(t).trigger(t.EVENT_HIDDEN_CATALOG_MOBILE_MENU))}var i=e("[data-menu-catalog-aside]"),a=!1;e(document).on("click","[data-mobile-catalog-menu-toggle]",function(){!0===a?o():n()});var r=e();r.push(t),i.each(function(){r.push(this)}),r.on(t.EVENT_DO_HIDE_CATALOG_MOBILE_MENU,o),i.on(t.EVENT_MENU_MOBILE_SHOW,n),e(t).on(t.EVENT_CHANGE_SCREEN_TYPE,function(){t.checkScreenType(t.SCREEN_MOBILE,t.SCREEN_TABLET)||o()}),e(t).trigger(t.EVENT_CHANGE_SCREEN_TYPE)})}(),function(){t.EVENT_MOBILE_MENU_DO_HIDE="menu:mobile:close",t.EVENT_MOBILE_MENU_HAS_OPENED="menu:mobile:opened",t.EVENT_MOBILE_MENU_HAS_CLOSED="menu:mobile:closed",t.EVENT_MOBILE_UPDATE_NOTIFIER="menu:modile:update-notifier",t.NOTIFY_ACTIVITY_COMPARE="compare",t.NOTIFY_ACTIVITY_WISHLIST="wishlist",t.NOTIFY_ACTIVITY_CART="cart",t.NOTIFY_ACTIVITY_USER="user",e(function(){function n(){a.get(0).scrollTop=0,a.addClass("open"),e(t).trigger(t.EVENT_MOBILE_MENU_HAS_OPENED)}function o(){a.removeClass("open"),e(t).trigger(t.EVENT_MOBILE_MENU_HAS_CLOSED),h.addClass("collapsed"),h.attr("data-action","open")}function i(){var t=0;e.each(p,function(e,n){t+=n}),h.toggleClass("has-notifies",t>0)}var a=e("#header-menu"),r=0,c=e(t.SELECTOR_COMPARE_BTN_GLOBAL+' [data-of="totalCount"]');0!==c.length&&""!==c.text()&&(r=parseInt(c.text()));var s=0,d=e(t.SELECTOR_WISHLIST_BTN_GLOBAL+' [data-of="totalCount"]');0!==d.length&&""!==d.text()&&(s=parseInt(d.text()));var l=0,u=e(t.SELECTOR_CART_BTN_GLOBAL+' [data-of="totalCount"]');0!==u.length&&""!==u.text()&&(l=parseInt(u.text()));var f=0,E=a.find('[data-role="user-notifications-count"]');0!==E.length&&""!==E.text()&&(f=parseInt(E.text()));var p={};p[t.NOTIFY_ACTIVITY_COMPARE]=r,p[t.NOTIFY_ACTIVITY_WISHLIST]=s,p[t.NOTIFY_ACTIVITY_CART]=l,p[t.NOTIFY_ACTIVITY_USER]=f;var h=e('[data-role="toggle-mobile-menu"]');e('[data-role="open-mobile-menu"]').on("click",function(){!0===e(this).hasClass("opened")?o():n()}),e('[data-role="close-mobile-menu"]').on("click",o),h.on("click",function(){var t=e(this);"open"===t.attr("data-action")?(t.removeClass("collapsed"),t.attr("data-action","close"),n()):(t.addClass("collapsed"),t.attr("data-action","open"),o())}),i(),e(t).on(t.EVENT_MOBILE_MENU_DO_HIDE,o).on(t.EVENT_MOBILE_UPDATE_NOTIFIER,function(e,t){p[t.activity]=t.count,i()}),a.on(t.EVENT_MENU_MOBILE_SHOW,n)})}()}(jQuery,window),$(function(){$("input[data-mask]").each(function(){$(this).mask($(this).data("mask"))}),window.PHONE_MASK="+7 (xxx) xxx-xxxx",$("input[data-phone]").each(function(){$(this).maskedphone(window.PHONE_MASK)})}),function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var n=e.originalEvent.changedTouches[0],o=document.createEvent("MouseEvents");o.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(o)}}if(e.support.touch="ontouchend"in document,e.support.touch){var n,o=e.ui.mouse.prototype,i=o._mouseInit,a=o._mouseDestroy;o._touchStart=function(e){var o=this;!n&&o._mouseCapture(e.originalEvent.changedTouches[0])&&(n=!0,o._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},o._touchMove=function(e){n&&(this._touchMoved=!0,t(e,"mousemove"))},o._touchEnd=function(e){n&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),n=!1)},o._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),i.call(t)},o._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),a.call(t)}}}(jQuery),$(function(){$("html").removeClass("no-js");var e=$("[data-toggle=dropdown]"),t=$('[data-role="profile-dropdown"]');if(0!==e.length&&e.dropdown(),0!==t.length){var n=$('[data-role="profile-dropdown-container"]'),o=n.children("a").width(),i=o/2-15;$('<style>[data-role="profile-dropdown"]:before, [data-role="profile-dropdown"]:after{right: '+i+"px}</style>").appendTo("head")}}),window.updateURLParameter=function(e,t,n){var o="",i=e.split("?"),a=i[0],r=i[1],c="";if(r){i=r.split("&");for(var s=0;s<i.length;s++)i[s].split("=")[0]!==t&&(o+=c+i[s],c="&")}return a+"?"+o+c+t+"="+n},window.getURLParameter=function(e,t){t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)"),o=n.exec(e);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))},function(){var e={SELECTOR_CAPTCHA_RELOAD:"[data-role=captcha-reload]",SELECTOR_COMPARE_BTN:"[data-compare-role]",SELECTOR_COMPARE_BTN_GLOBAL:"[data-role=compare-btn-global]",SELECTOR_COMPARE_PAGE:"[data-role=compare-page]",SELECTOR_CART_BTN_GLOBAL:"[data-id=cart-widget]",SELECTOR_WISHLIST_BTN:"[data-wishlist-role]",SELECTOR_WISHLIST_BTN_GLOBAL:"[data-role=wishlist-btn-global]",EVENT_UPDATE_WISHLIST:":update-wishlist"};for(var t in e)e.hasOwnProperty(t)&&function(t){if(!(Object.defineProperty instanceof Function))return window[t]=e[t];Object.defineProperty(window,t,{get:function(){return e[t]},set:function(){console.error("Константа "+t+" - неизменяемый параметр!")}})}(t)}(),window.EVENT_PRODUCTS_LOADED="productsLoaded",window.SELECTOR_LOGIN_LINK='[data-role="login-link"]',window.SELECTOR_REGISTER_LINK='[data-role="register-link"]',window.EVENT_INIT_CLAIM_WIDGETS="claim-widgets:init",window.EVENT_INIT_OPINION_WIDGETS="opinion-widgets:init",window.EVENT_INIT_FAQ_WIDGETS="faq-widgets:init",window.EVENT_INIT_REVIEWS_WIDGETS="reviews-widgets:init",window.toggleLoaderVisibility=function(e){void 0===e&&(e=!document.body.classList.contains("loading")),!0===e?document.body.classList.add("loading"):document.body.classList.remove("loading")},window.dispatchLazyLoadUpdateEvent=function(){var e=document.createEvent("Event");e.initEvent(window.Constants.EVENT_LAZY_LOAD_UPDATE,!0,!0),window.dispatchEvent(e)},function(){[].slice.call(document.querySelectorAll("[data-button-more]")).forEach(function(e){$(document).scroll(function(){"true"===e.getAttribute("aria-expanded")&&(e.click(),e.blur(),e.style.boxShadow="none")})})}(),function(){document.addEventListener("DOMContentLoaded",function(){var e=[].slice.call(document.querySelectorAll("[data-show-after-load]"));0!==e.length&&e.forEach(function(e){setTimeout(function(){e.hidden=!1},0)})})}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"===("undefined"==typeof exports?"undefined":_typeof(exports))?require("jquery"):jQuery)}(function(e){var t,n=navigator.userAgent,o=/iphone/i.test(n),i=/chrome/i.test(n),a=/android/i.test(n);e.maskedphone={definitions:{x:"[0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmaskedphone:function(){return this.trigger("unmask")},maskedphone:function(n,r){var c,s,d,l,u,f,E,p;if(!n&&this.length>0){c=e(this[0]);var h=c.data(e.maskedphone.dataName);return h?h():void 0}return r=e.extend({autoclear:e.maskedphone.autoclear,placeholder:e.maskedphone.placeholder,completed:null},r),s=e.maskedphone.definitions,d=[],l=E=n.length,u=null,e.each(n.split(""),function(e,t){"?"==t?(E--,l=e):s[t]?(d.push(new RegExp(s[t])),null===u&&(u=d.length-1),e<l&&(f=d.length-1)):d.push(null)}),this.trigger("unmask").each(function(){function c(){if(r.completed){for(var e=u;e<=f;e++)if(d[e]&&L[e]===h(e))return;r.completed.call(I)}}function h(e){return e<r.placeholder.length?r.placeholder.charAt(e):r.placeholder.charAt(0)}function _(e){for(;++e<E&&!d[e];);return e}function v(e){for(;--e>=0&&!d[e];);return e}function m(e,t){var n,o;if(!(e<0)){for(n=e,o=_(t);n<E;n++)if(d[n]){if(!(o<E&&d[n].test(L[o])))break;L[n]=L[o],L[o]=h(o),o=_(o)}S(),I.caret(Math.max(u,e))}}function g(e){var t,n,o,i;for(t=e,n=h(e);t<E;t++)if(d[t]){if(o=_(t),i=L[t],L[t]=n,!(o<E&&d[o].test(i)))break;n=i}}function w(e){var t=I.val(),n=I.caret();if(p&&p.length&&p.length>t.length){for(N(!0);n.begin>0&&!d[n.begin-1];)n.begin--;if(0===n.begin)for(;n.begin<u&&!d[n.begin];)n.begin++;I.caret(n.begin,n.begin)}else{for(N(!0);n.begin<E&&!d[n.begin];)n.begin++;I.caret(n.begin,n.begin)}c()}function T(e){N(),I.val()!=R&&I.change()}function O(e){if(!I.prop("readonly")){var t,n,i,a=e.which||e.keyCode;p=I.val(),8===a||46===a||o&&127===a?(t=I.caret(),n=t.begin,i=t.end,i-n==0&&(n=46!==a?v(n):i=_(n-1),i=46===a?_(i):i),C(n,i),m(n,i-1),e.preventDefault()):13===a?T.call(this,e):27===a&&(I.val(R),I.caret(0,N()),e.preventDefault())}}function y(t){if(!I.prop("readonly")){var n,o,i,r=t.which||t.keyCode,s=I.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||r<32)&&r&&13!==r){if(s.end-s.begin!=0&&(C(s.begin,s.end),m(s.begin,s.end-1)),(n=_(s.begin-1))<E&&(o=String.fromCharCode(r),d[n].test(o))){if(g(n),L[n]=o,S(),i=_(n),a){var l=function(){e.proxy(e.fn.caret,I,i)()};setTimeout(l,0)}else I.caret(i);s.begin<=f&&c()}t.preventDefault()}}}function C(e,t){var n;for(n=e;n<t&&n<E;n++)d[n]&&(L[n]=h(n))}function S(){I.val(L.join(""))}function N(e){var t,n,o,i=I.val(),a=-1;for(t=0,o=0;t<E;t++)if(d[t]){for(L[t]=h(t);o++<i.length;)if(n=i.charAt(o-1),d[t].test(n)){L[t]=n,a=t;break}if(o>i.length){C(t+1,E);break}}else L[t]===i.charAt(o)&&o++,t<l&&(a=t);return e?S():a+1<l?r.autoclear||L.join("")===b?(I.val()&&I.val(""),C(0,E)):S():(S(),I.val(I.val().substring(0,a+1))),l?t:u}var I=e(this),L=e.map(n.split(""),function(e,t){if("?"!=e)return s[e]?h(t):e}),b=L.join(""),R=I.val();I.data(e.maskedphone.dataName,function(){return e.map(L,function(e,t){return d[t]&&e!=h(t)?e:null}).join("")}),I.one("unmaskedphone",function(){I.off(".maskedphone").removeData(e.maskedphone.dataName)}).on("focus.maskedphone",function(){if(!I.prop("readonly")){clearTimeout(t);var e;R=I.val(),e=N(),t=setTimeout(function(){I.get(0)===document.activeElement&&(S(),e==n.replace("?","").length?I.caret(0,e):I.caret(e))},10)}}).on("blur.maskedphone",T).on("keydown.maskedphone",O).on("keypress.maskedphone",y).on("input.maskedphone paste.maskedphone",function(){I.prop("readonly")||setTimeout(function(){var e=N(!0);I.caret(e),c()},0)}),i&&a&&I.off("input.maskedphone").on("input.maskedphone",w),N()})}})}),window.SELECTOR_POPOVER='[data-toggle="popover"]',window.EVENT_INIT_POPOVERS="popovers:init",window.EVENT_DESTROY_POPOVERS="popovers:destroy";var initPopovers=function(){void 0!==$(window).popover&&(destroyPopovers(),$(window.SELECTOR_POPOVER).on("show.bs.popover",function(){$(window.SELECTOR_POPOVER).not(this).popover("hide")}),$(window.SELECTOR_POPOVER).on("hidden.bs.popover",function(){$(this).data("bs.popover").inState.click=!1}),[].slice.call(document.querySelectorAll(window.SELECTOR_POPOVER)).forEach(function(e){var t=$(e);t.popover({html:!0,content:function(){var e=t.data("content-target");return e=$(e).html(),e||t.data("content")}})}))},destroyPopovers=function(){void 0!==$(window).popover&&$(window.SELECTOR_POPOVER).popover("destroy")};$(function(){initPopovers(),$(document.body).click(function(e){if(0!==window.getVisible('[role="tooltip"]').length&&"tooltip"!==$(e.target).parent().attr("role")){var t=$(e.target).closest(window.SELECTOR_POPOVER);if(t.length)return void[].slice.call(document.querySelectorAll(window.SELECTOR_POPOVER)).forEach(function(e){var n=$(e);n.data("content-target")!==t.data("content-target")&&n.popover("hide")});$(window.SELECTOR_POPOVER).popover("hide")}})}),$(window).on(window.EVENT_CATALOG_SCROLL,initPopovers).on(window.EVENT_INIT_POPOVERS,initPopovers).on(window.EVENT_PRODUCTS_LOADED,initPopovers).on(window.EVENT_CATALOG_LIST_IS_LOADED,initPopovers).on(window.EVENT_DESTROY_POPOVERS,destroyPopovers),function(e){function t(t){var n=this,o=e(t),i=o.find(".slider-wrapper"),a=o.find(".button-left"),r=o.find(".button-right"),c=o.find(".shadow-left"),s=o.find(".shadow-right"),d=[],l=0,u=0;this.prevSlide=function(){u=u>0?u-1:u,n.setCurrentState(!0)},this.nextSlide=function(){E(u)>0&&(u=u<l-1?u+1:u,n.setCurrentState(!0))},this.setCurrentState=function(e){p(),h(e)};var f=function(e){for(var t=0,n=0;n<e;n++)t+=d[n];return t},E=function(e){var t=i.width()-o.width()-f(e);return t>0?t:0},p=function(){u<l-1&&E(u)>0?(r.show(),s.show()):(r.hide(),s.hide()),u>0&&E(0)>0?(a.show(),c.show()):(a.hide(),c.hide())},h=function(e){var t=f(u),n=u-1;if(n>=0){var o=E(n);t=t>o?o:t}e?i.animate({left:-t}):i.css({left:-t})};!function(){var t=0,o=i.children();l=o.length,o.each(function(n){var o=e(this).outerWidth(!0);d[n]=o,t+=o}),i.width(t),a.click(function(){n.prevSlide()}),r.click(function(){n.nextSlide()}),e(window).resize(function(){n.setCurrentState(!1)})}()}e(function(){var n=new t("[data-role=projects-slider]");e("[data-project-dropdown]").click(function(){function t(e){var n=e.target,a=n===o||o.contains(n)||!1===o.classList.contains("hide")&&i===n;o.classList.toggle("hide",!1===a),!1===a&&document.removeEventListener("click",t)}var o=document.querySelector(e(this).data("target-dropdown")),i=this;o.classList.toggle("hide"),n.setCurrentState(!1),document.addEventListener("click",t)})})}(jQuery),window.SELECTOR_TOOLTIP='[data-toggle="tooltip"], [data-original-title]',window.EVENT_INIT_TOOLTIPS="tooltips:init",window.EVENT_DESTROY_TOOLTIPS="tooltips:destroy"
;var initTooltips=function(){void 0!==$(window).popover&&(destroyTooltips(),setTimeout(function(){$(window.SELECTOR_TOOLTIP).each(function(){var e=$(this);e.tooltip({container:e.data("container")?e.data("container"):"body",placement:e.data("placement")?e.data("placement"):"bottom",trigger:e.data("trigger")?e.data("trigger"):"hover focus"})})},500))},destroyTooltips=function(){void 0!==$(window).popover&&$(window.SELECTOR_TOOLTIP).tooltip("destroy")};$(window).on(window.EVENT_DESTROY_TOOLTIPS,destroyTooltips).on([window.EVENT_CATALOG_LIST_IS_LOADED,window.EVENT_CATALOG_SCROLL,window.EVENT_INIT_TOOLTIPS,window.EVENT_PRODUCTS_LOADED].join(" "),initTooltips),$(function(){initTooltips(),"ontouchstart"in document.documentElement||($("a[title]").tooltip({container:"body",placement:"bottom"}),$("button[title]").tooltip({container:"body",placement:"bottom"}),$("img[title]").tooltip({container:"body",placement:"bottom"}),$("span[title]").tooltip({container:"body",placement:"bottom"}))}),function(e){e(function(){e(".w-choose-city-widget").on("click",function(){var t=e(this);window.showSelectCityModal(window.changeCity,function(){e(window).trigger(window.EVENT_MOBILE_MENU_DO_HIDE)},function(){},t.attr("data-city-id"))})})}(jQuery),$(function(){$.each($("[data-role=collapsible]"),function(e,t){var n=$(t),o=$("a[href=\\#"+n.attr("id")+"]"),i=o.find("[data-role=collapse-label]"),a=i.text();n.on("hidden.bs.collapse",function(){i.text(a)}).on("shown.bs.collapse",function(){i.text(o.attr("data-expanded-text"))}).click(function(){return!1})})}),function(e){e(function(){var t=e("[data-role=confirm-city-mobile-widget]");if(0!==t.length){var n=e("header"),o=function(e){n.toggleClass("mobile-city-confirm-showed",e)};o(!0),t.on("click",".close-btn",function(){setCity(e(this).attr("data-id")),o(!1)}).on("click",".city-name",function(){o(!1)})}})}(jQuery),function(e,t){function n(){clearTimeout(r),r=setTimeout(function(){clearTimeout(r),window.location=a},1e3*i)}function o(e,o){i=e,a=o,n(),t(window).on("mousemove",n)}var i,a,r=null;window.redirectWidget=o}(document,jQuery),function(e,t){t(function(){t(".tiny-mce-spoiler > .spoiler-head").each(function(){t('<span class="spoiler-arrow"></span>').appendTo(t(this))})}),t(function(){t(".tiny-mce-spoiler > .spoiler-head").attr("title","Развернуть спойлер").click(function(){var e=t(this).next(".tiny-mce-spoiler > .spoiler-body");e.toggle(),e.is(":hidden")?(t(this).attr("title","Развернуть спойлер"),t(this).removeClass("opened")):(t(this).attr("title","Свернуть спойлер"),t(this).addClass("opened"))})})}(document,jQuery),function(e,t,n){function o(){var e=t(i);(void 0===n?"undefined":_typeof(n))!==("undefined"==typeof Ya?"undefined":_typeof(Ya))&&0!==e.length&&Ya.share2(e.attr("id"),{content:{url:e.attr("data-url")||"",title:e.attr("data-title")||"",description:e.attr("data-description")||"",image:e.attr("data-image")||""}})}var i="[data-role=ya-social-buttons-container]";t(function(){o()})}(document,jQuery);